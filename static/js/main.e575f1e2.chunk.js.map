{"version":3,"sources":["contexts/app/AppContext.tsx","components/AppBox/AppBox.tsx","components/AppBox/index.ts","components/Navbar/NavbarIcons.tsx","uibox/context/editor.tsx","uibox/common/constants.ts","uibox/handlers/BaseHandler.ts","uibox/handlers/CanvasHandler.ts","uibox/utils/shourcutsManager.ts","uibox/handlers/EventsHandler.ts","uibox/handlers/FrameHandler.ts","uibox/utils/objectToFabric.ts","uibox/utils/image-loader.ts","uibox/handlers/ObjectsHandler.ts","uibox/handlers/TransactionHandler.ts","uibox/handlers/ZoomHandler.ts","uibox/utils/drawer.ts","uibox/handlers/PersonalizationHandler.ts","uibox/handlers/Handlers.ts","uibox/handlers/index.ts","uibox/objects/Frame.ts","uibox/objects/Textarea.ts","uibox/objects/StaticImage.ts","uibox/hooks/useEditorContext.ts","uibox/hooks/useHandlers.ts","uibox/index.ts","uibox/editor.tsx","components/Navbar/Navbar.tsx","components/Panels/ClosePanel.tsx","components/Panels/PanelsList/tabItems.ts","components/Panels/PanelsList/PanelItemIcon.tsx","components/Panels/PanelsList/PanelsListItem.tsx","components/Panels/PanelsList/PanelsList.tsx","services/pixabay.ts","components/Panels/PanelItem/ImagesPanel.tsx","components/Panels/PanelItem/MusicPanel.tsx","services/iconscout.ts","components/Panels/PanelItem/ObjectsPanel.tsx","components/Panels/PanelItem/TemplatesPanel.tsx","components/Panels/PanelItem/TextPanel.tsx","components/Panels/PanelItem/VideosPanel.tsx","components/Panels/PanelItem/LayersPanel.tsx","components/Panels/PanelItem/PanelItem.tsx","components/Panels/Panels.tsx","components/Toolbox/DefaultToolbox/DefaultToolbox.tsx","assets/images/base-color-picker.png","components/Toolbox/Toolbox.tsx","components/CanvasArea/CanvasArea.tsx","components/NotSupported/NotSupported.tsx","components/NotSupported/index.ts","components/Footer/Footer.tsx","components/Footer/index.ts","components/Editor/Editor.tsx","components/Editor/index.ts","containers/AppContainer.tsx","reportWebVitals.ts","i18n/i18nClient.ts","theme.ts","index.tsx"],"names":["Context","createContext","isMobile","setIsMobile","AppProvider","_ref","children","useState","undefined","context","_jsx","Provider","value","useAppContext","useContext","AppBox","containerRef","useRef","updateMediaQuery","useEffect","containerElement","current","containerWidth","clientWidth","resizeObserver","ResizeObserver","entries","width","contentRect","observe","unobserve","Flex","ref","sx","flex","height","IconContainer","styled","div","borderRadius","padding","background","cursor","GithubIcon","fill","viewBox","xmlns","d","DownloadIcon","props","className","LogoIcon","EditorContext","canvas","setCanvas","activeObject","setActiveObject","handlers","setHandlers","zoomRatio","setZoomRatio","EditorProvider","PROPERTIES_TO_INCLUDE","SCALE_FACTOR","ObjectType","BaseHandler","constructor","root","this","CanvasHandler","super","options","resize","nextWidth","nextHeight","setWidth","setHeight","renderAll","diffWidth","diffHeight","deltaPoint","fabric","Point","relativePan","isDelete","event","key","isCtrlA","ctrlKey","code","isCtrlC","isCtrlV","isCtrlY","isCtrlX","isArrowUp","isArrowDown","isArrowLeft","isArrowRight","isShift","shiftKey","isAltDown","altKey","isAltUp","isAltRight","isAltLeft","isCtrlShiftZ","isCtrlZ","isCtrlOne","isCtrlMinus","isCtrlEqual","isCtrlZero","EventsHandler","objectModified","transactionHandler","save","onMouseOut","onMouseWheel","e","handleZoom","handlePan","delta","deltaY","pointX","pointY","point","getZoom","zoomHandler","zoomToPoint","getWidth","getHeight","preventDefault","stopPropagation","handleSelection","target","selection","getActiveObject","initialize","wrapperEl","tabIndex","style","outline","on","addEventListener","onKeyDown","bind","destroy","off","removeEventListener","shourcutsManager","zoomToFit","zoomIn","zoomOut","zoomToOne","undo","redo","objectsHandler","updateCharSpacing","updateLineHeight","selectAll","removeActive","copy","paste","cut","nudgeValue","moveVertical","moveHorizontal","FrameHandler","frame","sizeFormat","backgroundimage","get","getObjects","find","object","type","update","setBackgroundColor","color","set","setBackgroundImageURL","async","create","getBackgroundImage","removeBackgroundImage","reset","setSelectionBorder","getOptions","toObject","propertiesToInclude","scaleDimension","getFitRatio","canvasWidth","canvasHeight","scaleX","scaleY","Frame","id","name","hoverCursor","add","center","run","item","TEXTAREA","staticText","STATIC_IMAGE","staticImage","STATIC_VECTOR","staticVector","Promise","resolve","reject","baseOptions","getBaseOptions","metadata","textAlign","fontFamily","fontSize","fontWeight","charSpacing","lineheight","textOptions","text","element","Textarea","top","left","isNaN","err","src","image","Image","onload","loadImageFromURL","StaticImage","scaleToWidth","loadSVGFromURL","objects","opts","util","groupSVGElements","angle","originX","originY","ObjectHandler","arguments","clipboard","isCut","frameHandler","objectToFabric","updateActive","clear","remove","updateTextKeys","getObject","deleteObject","deleteActiveObjects","TransactionHandler","redos","undos","state","active","json","push","canvasJSON","toJSON","forEach","clipPath","enlivenObjects","arg1","console","log","fire","throttle","pop","replay","transaction","discardActiveObject","loadFromJSON","getAll","ZoomHandler","getCenter","setViewportTransform","zoomFitRatio","zoomToRatio","zoom","minZoom","maxZoom","drawCircleIcon","ctx","styleOverride","fabricObject","translate","rotate","degreesToRadians","beginPath","lineCap","lineWidth","shadowBlur","shadowColor","arc","Math","PI","fillStyle","restore","drawVerticalLineIcon","size","cornerSize","moveTo","lineTo","strokeStyle","stroke","drawHorizontalLineIcon","drawRotateIcon","x","y","arrow1","startAngle","endAngle","arrow2","draw","radius","arrowTop","getPointOnCircle","arrowLeft","arrowRight","closePath","cos","sin","PersonalizationHandler","init","Object","prototype","transparentCorners","cornerColor","cornerStyle","borderColor","borderScaleFactor","borderOpacityWhenMoving","controls","tr","Control","actionHandler","controlsUtils","scalingEqually","cursorStyleHandler","scaleSkewCursorStyleHandler","actionName","scaleOrSkewActionName","render","withConnection","tl","bl","br","ml","scalingXOrSkewingY","mt","scalingYOrSkewingX","mb","mr","mtr","offsetY","rotationWithSnapping","rotationStyleHandler","Textbox","changeWidth","selectionColor","selectionBorderColor","selectionLineWidth","ev","getActiveObjects","length","setControlsVisibility","borderDashArray","activeObjects","bound","getBoundingRect","getContext","strokeRect","Handlers","eventsHandler","canvasHandler","personalizationHandler","handlerOptions","FrameObject","Rect","selectable","hasControls","lockMovementY","lockMovementX","strokeWidth","fromObject","createClass","TextareaObject","callback","StaticImageObject","subtype","loadImage","img","useEditorContext","useHandlers","Editor","container","clientHeight","Canvas","backgroundColor","preserveObjectStacking","position","Navbar","templateName","setTemplateName","_jsxs","justifyContent","alignItems","Input","border","onChange","placeholder","IconButton","onClick","downloadImage","data","toDataURL","multiplier","a","document","createElement","href","download","click","marginLeft","ClosePanel","closePanel","panelOpen","opacity","concat","transition","strokeLinecap","tabItems","icon","label","TemplateIcon","fillRule","ObjectIcon","TextIcon","ImageIcon","VideoIcon","clipRule","AudioIcon","ProjectIcon","LayerIcon","PanelIcons","project","templates","images","videos","layers","texts","musics","PanelItem","setActiveTab","activeTab","setPanelOpen","classNames","PanelItemIcon","PanelItems","Box","paddingTop","Scrollbars","renderThumbVertical","autoHide","map","tabItem","PanelItemsListItem","i18n","t","pixabayClient","axios","baseURL","PIXABAY_KEY","process","getPixabayImages","query","encodedWord","replace","toLowerCase","then","response","hits","catch","ImagesPanel","search","setSearch","setImages","useDebounce","_Fragment","Grid","gridTemplateColumns","gap","url","addImageToCanvas","webformatURL","previewURL","alt","MusicPanel","iconscoutClient","headers","getImages","params","product_type","asset","price","per_page","page","formats","styles","sort","items","ObjectsPanel","setObjects","uuid","post","format","imageURL","getImage","obj","urls","thumb","TemplatesPanel","TextPanel","gridTemplateRows","paddingLeft","addHeading","addSubheading","addTextBody","VideosPanel","LayersPanel","display","layer","open","Panels","isPanelOpen","boxShadow","userSelect","PanelItemsList","Toolbox","dropdown","setDropdown","displayColorPicker","setOptions","handleClick","zIndex","right","bottom","handleClose","TwitterPicker","hex","DefaultToolbox","CanvasArea","NotSupported","paddingBottom","PagesIcon","rx","ExpandIcon","FooterMenu","Footer","option","setOption","zoomValue","updateOptions","zoomString","parseFloat","toFixed","overflow","paddingRight","Slider","onZoomChange","max","Text","margin","flexDirection","AppContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","load","whitelist","lng","resources","en","translation","enLocale","i18nClient","tableCellStyle","py","pr","pl","borderBottomStyle","theme","colors","primary","secondary","muted","highlight","gray","accent","darken","fonts","body","heading","monospace","fontSizes","fontWeights","bold","lineHeights","sizes","sidebar","lineHeight","block","variant","my","textJustify","letterSpacing","caps","textTransform","buttons","bg","black","links","nav","textDecoration","button","p","badges","circle","minWidth","avatar","cards","compact","forms","input","select","textarea","slider","alerts","layout","maxWidth","h1","h2","h3","h4","h5","h6","pre","inlineCode","table","borderCollapse","borderSpacing","th","verticalAlign","borderBottomWidth","td","hr","borderBottom","xray","navlink","ReactDOM","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.e575f1e2.chunk.js","sourcesContent":["import React, { createContext, useState, useContext, FC } from 'react'\n\ninterface AppContext {\n  isMobile: boolean | undefined\n  setIsMobile: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nconst Context = createContext<AppContext>({\n  isMobile: false,\n  setIsMobile: () => {},\n})\n\nexport const AppProvider: FC = ({ children }) => {\n  const [isMobile, setIsMobile] = useState<boolean>(undefined)\n  const context = { isMobile, setIsMobile }\n  return <Context.Provider value={context}>{children}</Context.Provider>\n}\n\nexport function useAppContext() {\n  const { isMobile, setIsMobile } = useContext(Context)\n  return { isMobile, setIsMobile }\n}\n","import { useEffect, useRef } from 'react'\nimport { Flex } from 'theme-ui'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport { useAppContext } from '@contexts/app/AppContext'\n\nfunction AppBox({ children }) {\n  const containerRef = useRef<HTMLDivElement>()\n  const { isMobile, setIsMobile } = useAppContext()\n\n  const updateMediaQuery = (value: number) => {\n    if (!isMobile && value >= 800) {\n      setIsMobile(false)\n    } else if (!isMobile && value < 800) {\n      setIsMobile(true)\n    } else {\n      setIsMobile(false)\n    }\n  }\n  useEffect(() => {\n    const containerElement = containerRef.current\n    const containerWidth = containerElement.clientWidth\n    updateMediaQuery(containerWidth)\n    const resizeObserver = new ResizeObserver(entries => {\n      const { width = containerWidth } = (entries[0] && entries[0].contentRect) || {}\n      updateMediaQuery(width)\n    })\n    resizeObserver.observe(containerElement)\n    return () => {\n      if (containerElement) {\n        resizeObserver.unobserve(containerElement)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <Flex\n      ref={containerRef}\n      sx={{\n        flex: 1,\n        height: '100vh',\n        width: '100vw',\n      }}\n    >\n      {children}\n    </Flex>\n  )\n}\n\nexport default AppBox\n","import AppBox from './AppBox'\nexport default AppBox\n","import { CSSProperties } from 'react'\nimport styled from '@emotion/styled'\n\nconst IconContainer = styled.div<CSSProperties>({\n  borderRadius: '4px',\n  padding: '0.5rem',\n  background: 'rgba(255, 255, 255, 0.15)',\n  cursor: 'pointer',\n})\n\nexport function GithubIcon() {\n  return (\n    <IconContainer>\n      <svg fill=\"currentColor\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\" />\n      </svg>\n    </IconContainer>\n  )\n}\n\nexport function DownloadIcon(props) {\n  return (\n    <IconContainer {...props} className=\"navbar-icon\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path\n          fill=\"currentColor\"\n          d=\"M11.25 15.85l-4.38-4.38a.75.75 0 0 0-1.06 1.06l4.95 4.95c.69.68 1.8.68 2.48 0l4.95-4.95a.75.75 0 1 0-1.06-1.06l-4.38 4.38V4.25a.75.75 0 1 0-1.5 0v11.6zm-7.5 3.4h16.5a.75.75 0 1 1 0 1.5H3.75a.75.75 0 1 1 0-1.5z\"\n        ></path>\n      </svg>\n    </IconContainer>\n  )\n}\n\nexport function LogoIcon(props) {\n  return (\n    <svg {...props} fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 86.02 86.02\">\n      <g>\n        <path\n          d=\"M0.354,48.874l0.118,25.351c0.001,0.326,0.181,0.624,0.467,0.779l20.249,10.602c0.132,0.071,0.276,0.106,0.421,0.106\n          c0.001,0,0.001,0,0.002,0c0.061,0.068,0.129,0.133,0.211,0.182c0.14,0.084,0.297,0.126,0.455,0.126\n          c0.146,0,0.291-0.035,0.423-0.106l19.992-10.842c0.183-0.099,0.315-0.261,0.392-0.445c0.081,0.155,0.203,0.292,0.364,0.379\n          l20.248,10.602c0.132,0.071,0.277,0.106,0.422,0.106c0.001,0,0.001,0,0.002,0c0.062,0.068,0.129,0.133,0.21,0.182\n          c0.142,0.084,0.299,0.126,0.456,0.126c0.146,0,0.29-0.035,0.422-0.106L85.2,75.071c0.287-0.154,0.467-0.456,0.467-0.783V47.911\n          c0-0.008-0.004-0.016-0.004-0.022c0-0.006,0.002-0.013,0.002-0.021c-0.001-0.023-0.01-0.049-0.014-0.072\n          c-0.007-0.05-0.014-0.098-0.027-0.146c-0.011-0.031-0.023-0.062-0.038-0.093c-0.019-0.042-0.037-0.082-0.062-0.12\n          c-0.019-0.03-0.04-0.058-0.062-0.084c-0.028-0.034-0.059-0.066-0.092-0.097c-0.025-0.023-0.054-0.045-0.083-0.066\n          c-0.02-0.012-0.034-0.03-0.056-0.043c-0.02-0.011-0.041-0.017-0.062-0.025c-0.019-0.01-0.03-0.022-0.049-0.029l-20.603-9.978\n          c-0.082-0.034-0.17-0.038-0.257-0.047V10.865c0-0.007-0.002-0.015-0.002-0.022c-0.001-0.007,0.001-0.013,0.001-0.02\n          c-0.001-0.025-0.012-0.049-0.015-0.073c-0.007-0.049-0.014-0.098-0.027-0.145c-0.01-0.032-0.024-0.063-0.038-0.093\n          c-0.02-0.042-0.036-0.083-0.062-0.12c-0.02-0.03-0.041-0.057-0.062-0.084c-0.028-0.034-0.058-0.067-0.091-0.097\n          c-0.025-0.023-0.055-0.045-0.083-0.065c-0.021-0.014-0.035-0.032-0.056-0.045c-0.021-0.011-0.042-0.016-0.062-0.026\n          c-0.019-0.009-0.031-0.021-0.048-0.027L43.118,0.07c-0.24-0.102-0.512-0.093-0.746,0.025L22.009,10.71\n          c-0.299,0.151-0.487,0.456-0.489,0.79c0,0.006,0.002,0.011,0.002,0.016c-0.037,0.099-0.063,0.202-0.063,0.312l0.118,25.233\n          c-0.106,0.011-0.213,0.03-0.311,0.079L0.903,47.755c-0.298,0.15-0.487,0.456-0.489,0.791c0,0.005,0.003,0.009,0.003,0.015\n          C0.379,48.659,0.353,48.764,0.354,48.874z M61.321,10.964L43.372,21l-19.005-9.485l18.438-9.646L61.321,10.964z M62.486,37.008\n          l-18.214,9.586V22.535l18.214-10.18V37.008z M65.674,59.58l18.214-10.179v24.355l-18.214,9.883V59.58z M45.77,48.559l18.438-9.646\n          l18.515,9.099L64.775,58.045L45.77,48.559z M23.165,59.58L41.38,49.402v24.355l-18.215,9.882V59.58z M3.262,48.559L21.7,38.913\n          l18.515,9.099L22.266,58.045L3.262,48.559z\"\n        />\n      </g>\n    </svg>\n  )\n}\n","import { FC, createContext, useState } from 'react'\nimport { fabric } from 'fabric'\nimport Handlers from '../handlers'\n\nexport interface IEditorContext {\n  canvas: fabric.Canvas | null\n  setCanvas: (canvas: fabric.Canvas) => void\n  activeObject: fabric.Object | null\n  setActiveObject: (object: fabric.Object | null) => void\n  handlers: Handlers | null\n  setHandlers: (handlers: Handlers) => void\n  zoomRatio: number\n  setZoomRatio: (value: number) => void\n}\n\nexport const EditorContext = createContext<IEditorContext>({\n  canvas: null,\n  setCanvas: () => {},\n  activeObject: null,\n  setActiveObject: () => {},\n  handlers: null,\n  setHandlers: () => {},\n  zoomRatio: 1,\n  setZoomRatio: () => {},\n})\n\nexport const EditorProvider: FC = ({ children }) => {\n  const [canvas, setCanvas] = useState<fabric.Canvas | null>(null)\n  const [activeObject, setActiveObject] = useState<fabric.Object | null>(null)\n  const [handlers, setHandlers] = useState<Handlers | null>(null)\n  const [zoomRatio, setZoomRatio] = useState(1)\n\n  const context = {\n    canvas,\n    setCanvas,\n    activeObject,\n    setActiveObject,\n    handlers,\n    setHandlers,\n    zoomRatio,\n    setZoomRatio,\n  }\n\n  return <EditorContext.Provider value={context}>{children}</EditorContext.Provider>\n}\n","export const PROPERTIES_TO_INCLUDE = ['id', 'name', 'description']\nexport const SCALE_FACTOR = 0.4\nexport const FONT_SCALE_FACTOR = 0.675\n\nexport enum ObjectType {\n  STATIC_VECTOR = 'StaticVector',\n  STATIC_IMAGE = 'StaticImage',\n  DYNAMIC_IMAGE = 'DynamicImage',\n  TEXTAREA = 'Textarea',\n}\n\nexport enum ObjectTypeAlt {\n  STATIC_IMAGE = 'image:static',\n  DYNAMIC_IMAGE = 'image:dynamic',\n  TEXTAREA = 'Textarea',\n}\n","import { FabricCanvas, HandlerOptions } from '../common/interfaces'\nimport Handlers from '.'\nimport { IEditorContext } from '../context'\n\nclass BaseHandler {\n  public canvas: FabricCanvas\n  public root: Handlers\n  public context: IEditorContext\n  constructor({ canvas, root, context }: HandlerOptions) {\n    this.canvas = canvas\n    this.root = root\n    this.context = context\n  }\n}\nexport default BaseHandler\n","import { fabric } from 'fabric'\nimport { CanvasOptions, HandlerOptions } from '../common/interfaces'\nimport BaseHandler from './BaseHandler'\n\nclass CanvasHandler extends BaseHandler {\n  public options: CanvasOptions\n  constructor(props: HandlerOptions) {\n    super(props)\n    this.options = {\n      width: props.canvas.width,\n      height: props.canvas.height,\n    }\n  }\n  resize(nextWidth, nextHeight) {\n    this.canvas.setWidth(nextWidth).setHeight(nextHeight)\n    this.canvas.renderAll()\n    const diffWidth = nextWidth / 2 - this.options.width / 2\n    const diffHeight = nextHeight / 2 - this.options.height / 2\n\n    this.options.width = nextWidth\n    this.options.height = nextHeight\n\n    const deltaPoint = new fabric.Point(diffWidth, diffHeight)\n    this.canvas.relativePan(deltaPoint)\n  }\n}\n\nexport default CanvasHandler\n","class ShortcutManager {\n  //delete\n  isDelete(event: KeyboardEvent) {\n    return event.key === 'Delete'\n  }\n  // select all\n  isCtrlA(event: KeyboardEvent) {\n    return event.ctrlKey && event.code === 'KeyA'\n  }\n\n  // copy\n  isCtrlC(event: KeyboardEvent) {\n    return event.ctrlKey && event.code === 'KeyC'\n  }\n\n  // paste\n  isCtrlV(event: KeyboardEvent) {\n    return event.ctrlKey && event.code === 'KeyV'\n  }\n  // redo\n  isCtrlY(event: KeyboardEvent) {\n    return event.ctrlKey && event.code === 'KeyY'\n  }\n\n  // cut\n  isCtrlX(event: KeyboardEvent) {\n    return event.ctrlKey && event.code === 'KeyX'\n  }\n\n  // nudge\n  isArrowUp(event: KeyboardEvent) {\n    return event.code === 'ArrowUp'\n  }\n\n  // nudge\n  isArrowDown(event: KeyboardEvent) {\n    return event.code === 'ArrowDown'\n  }\n\n  // nudge\n  isArrowLeft(event: KeyboardEvent) {\n    return event.code === 'ArrowLeft'\n  }\n\n  // nudge\n  isArrowRight(event: KeyboardEvent) {\n    return event.code === 'ArrowRight'\n  }\n\n  // modifier\n  isShift(event: KeyboardEvent) {\n    return event.shiftKey\n  }\n\n  // lineHeight--\n  isAltDown(event: KeyboardEvent) {\n    return event.altKey && event.code === 'ArrowDown'\n  }\n\n  // lineHeight++\n  isAltUp(event: KeyboardEvent) {\n    return event.altKey && event.code === 'ArrowUp'\n  }\n\n  // charSpacing++\n  isAltRight(event: KeyboardEvent) {\n    return event.altKey && event.code === 'ArrowRight'\n  }\n  // charSpacing--\n  isAltLeft(event: KeyboardEvent) {\n    return event.altKey && event.code === 'ArrowLeft'\n  }\n\n  // redo\n  isCtrlShiftZ(event: KeyboardEvent) {\n    return event.ctrlKey && event.shiftKey && event.code === 'KeyZ'\n  }\n\n  // undo\n  isCtrlZ(event: KeyboardEvent) {\n    return event.ctrlKey && !event.shiftKey && event.code === 'KeyZ'\n  }\n\n  // zoom reset\n  isCtrlOne(event: KeyboardEvent) {\n    return event.ctrlKey && event.key === '1'\n  }\n\n  // zoom in\n  isCtrlMinus(event: KeyboardEvent) {\n    return event.ctrlKey && event.key === '-'\n  }\n\n  // zoom out\n  isCtrlEqual(event: KeyboardEvent) {\n    return event.ctrlKey && event.key === '='\n  }\n\n  // zoom to fit\n  isCtrlZero(event: KeyboardEvent) {\n    return event.ctrlKey && event.key === '0'\n  }\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default new ShortcutManager()\n","import { fabric } from 'fabric'\nimport BaseHandler from './BaseHandler'\nimport shourcutsManager from '../utils/shourcutsManager'\nimport { HandlerOptions } from '../common/interfaces'\n\nclass EventsHandler extends BaseHandler {\n  constructor(props: HandlerOptions) {\n    super(props)\n    this.initialize()\n  }\n\n  initialize() {\n    this.canvas.wrapperEl.tabIndex = 1\n    this.canvas.wrapperEl.style.outline = 'none'\n    // @ts-ignore\n    this.canvas.on({\n      'selection:created': this.handleSelection,\n      'selection:cleared': this.handleSelection,\n      'selection:updated': this.handleSelection,\n      'mouse:wheel': this.onMouseWheel,\n      'mouse:out': this.onMouseOut,\n      'object:modified': this.objectModified,\n    })\n\n    this.canvas.wrapperEl.addEventListener('keydown', this.onKeyDown.bind(this), false)\n  }\n\n  destroy() {\n    this.canvas.off({\n      'selection:created': this.handleSelection,\n      'selection:cleared': this.handleSelection,\n      'selection:updated': this.handleSelection,\n      'mouse:wheel': this.onMouseWheel,\n      'mouse:out': this.onMouseOut,\n      'object:modified': this.objectModified,\n    })\n\n    this.canvas.wrapperEl.removeEventListener('keydown', this.onKeyDown.bind(this))\n  }\n\n  objectModified = () => {\n    this.root.transactionHandler.save('object:modified')\n  }\n\n  onMouseOut = () => {\n    this.canvas.renderAll()\n  }\n\n  onMouseWheel = event => {\n    const isCtrlKey = event.e.ctrlKey\n    if (isCtrlKey) {\n      this.handleZoom(event)\n    } else {\n      this.handlePan(event)\n    }\n  }\n\n  handlePan = event => {\n    const delta = event.e.deltaY\n    const isShiftKey = event.e.shiftKey\n    let pointX = 0\n    let pointY = delta > 0 ? -30 : 30\n\n    if (isShiftKey) {\n      pointY = 0\n      pointX = delta > 0 ? -30 : 30\n    }\n    const point = new fabric.Point(pointX, pointY)\n    this.canvas.relativePan(point)\n  }\n\n  handleZoom = event => {\n    const delta = event.e.deltaY\n    let zoomRatio = this.canvas.getZoom()\n    if (delta > 0) {\n      zoomRatio -= 0.02\n    } else {\n      zoomRatio += 0.02\n    }\n    this.root.zoomHandler.zoomToPoint(\n      new fabric.Point(this.canvas.getWidth() / 2, this.canvas.getHeight() / 2),\n      zoomRatio\n    )\n    event.e.preventDefault()\n    event.e.stopPropagation()\n  }\n\n  onKeyDown(event) {\n    if (shourcutsManager.isCtrlZero(event)) {\n      event.preventDefault()\n      this.root.zoomHandler.zoomToFit()\n    } else if (shourcutsManager.isCtrlMinus(event)) {\n      event.preventDefault()\n      this.root.zoomHandler.zoomIn()\n    } else if (shourcutsManager.isCtrlEqual(event)) {\n      event.preventDefault()\n      this.root.zoomHandler.zoomOut()\n    } else if (shourcutsManager.isCtrlOne(event)) {\n      event.preventDefault()\n      this.root.zoomHandler.zoomToOne()\n    } else if (shourcutsManager.isCtrlZ(event)) {\n      this.root.transactionHandler.undo()\n    } else if (shourcutsManager.isCtrlShiftZ(event)) {\n      this.root.transactionHandler.redo()\n    } else if (shourcutsManager.isCtrlY(event)) {\n      this.root.transactionHandler.redo()\n    } else if (shourcutsManager.isAltLeft(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.updateCharSpacing(-10)\n    } else if (shourcutsManager.isAltRight(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.updateCharSpacing(+10)\n    } else if (shourcutsManager.isAltUp(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.updateLineHeight(+0.1)\n    } else if (shourcutsManager.isAltDown(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.updateLineHeight(-0.1)\n    } else if (shourcutsManager.isCtrlA(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.selectAll()\n    } else if (shourcutsManager.isDelete(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.removeActive()\n    } else if (shourcutsManager.isCtrlC(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.copy()\n    } else if (shourcutsManager.isCtrlV(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.paste()\n    } else if (shourcutsManager.isCtrlX(event)) {\n      event.preventDefault()\n      this.root.objectsHandler.cut()\n    } else if (shourcutsManager.isArrowUp(event)) {\n      let nudgeValue = -1\n      if (shourcutsManager.isShift(event)) {\n        nudgeValue = -10\n      }\n      this.root.objectsHandler.moveVertical(nudgeValue)\n    } else if (shourcutsManager.isArrowDown(event)) {\n      let nudgeValue = 1\n      if (shourcutsManager.isShift(event)) {\n        nudgeValue = 10\n      }\n      this.root.objectsHandler.moveVertical(nudgeValue)\n    } else if (shourcutsManager.isArrowLeft(event)) {\n      let nudgeValue = -1\n      if (shourcutsManager.isShift(event)) {\n        nudgeValue = -10\n      }\n      this.root.objectsHandler.moveHorizontal(nudgeValue)\n    } else if (shourcutsManager.isArrowRight(event)) {\n      let nudgeValue = 1\n      if (shourcutsManager.isShift(event)) {\n        nudgeValue = 10\n      }\n      this.root.objectsHandler.moveHorizontal(nudgeValue)\n    }\n  }\n\n  handleSelection = target => {\n    if (target) {\n      const selection = this.canvas.getActiveObject()\n      this.context.setActiveObject(selection)\n    } else {\n      this.context.setActiveObject(null)\n    }\n  }\n}\n\nexport default EventsHandler\n","import { fabric } from 'fabric'\n// import { SCALE_FACTOR, ObjectType } from '../common/constants'\nimport BaseHandler from './BaseHandler'\n// import { loadImageFromURL } from '../utils/image-loader'\nimport { HandlerOptions } from '../common/interfaces'\nimport { FrameOptions } from '../objects'\n\nclass FrameHandler extends BaseHandler {\n  frame\n  options\n  sizeFormat\n  backgroundimage\n\n  constructor(props: HandlerOptions) {\n    super(props)\n    // this.options = defaultFrameOptions\n    this.initialize()\n  }\n\n  initialize() {\n    const frame = new fabric.Frame({\n      width: 600,\n      height: 400,\n      id: '',\n      name: 'Initial Frame',\n      fill: '#ffffff',\n      hoverCursor: 'default',\n    })\n    this.canvas.add(frame)\n    frame.center()\n    // this.sizeFormat = this.context.defaultSizeFormat\n    // const scaledSize = this.scaleDimension(this.sizeFormat)\n    // const shadow = new fabric.Shadow({\n    //   color: '#afafaf',\n    //   blur: 2.5,\n    // })\n    // const frame = new fabric.Frame({ ...defaultFrameOptions, ...scaledSize, shadow })\n    // this.canvas.add(frame)\n    // frame.center()\n    // this.options = Object.assign(this.options, scaledSize)\n  }\n\n  get = () => {\n    return this.canvas.getObjects().find(object => object.type === 'Frame')\n  }\n\n  update = options => {\n    // this.sizeFormat = options\n    // const frame = this.get()\n    // const { width, height } = this.scaleDimension(this.sizeFormat)\n    // this.options = Object.assign(this.options, { width, height, isPortrait: options.isPortrait })\n    // frame.set('width', width)\n    // frame.set('height', height)\n    // frame.center()\n    // this.context.setSizeFormat(options)\n    // this.root.transactionHandler.save('frame:update')\n    // this.root.gridHandler.draw()\n  }\n\n  setBackgroundColor = (color: string) => {\n    const frame = this.get()\n    frame.set('fill', color)\n    this.canvas.renderAll()\n  }\n\n  setBackgroundImageURL = async url => {\n    // this.removeBackgroundImage()\n    // const frame = this.get()\n    // const image = await loadImageFromURL(url)\n    // const element = new fabric.BackgroundImage(image)\n    // element.clipPath = frame\n    // element.scaleToWidth(frame.width)\n    // this.canvas.add(element)\n    // element.center()\n    // element.moveTo(1)\n  }\n\n  create = options => {\n    // const shadow = new fabric.Shadow({\n    //   color: '#afafaf',\n    //   blur: 2.5,\n    // })\n    // this.sizeFormat = options\n    // const scaledSize = this.scaleDimension(this.sizeFormat)\n    // const frame = new fabric.Frame({ ...defaultFrameOptions, ...scaledSize, shadow })\n    // this.canvas.add(frame)\n    // frame.center()\n    // this.options = Object.assign(this.options, scaledSize)\n    // this.context.setSizeFormat(options)\n  }\n\n  getBackgroundImage = () => {\n    // return this.canvas.getObjects().find(object => object.type === 'BackgroundImage')\n  }\n\n  removeBackgroundImage = () => {\n    // const backgroundImage = this.getBackgroundImage()\n    // if (backgroundImage) {\n    //   this.canvas.remove(backgroundImage)\n    // }\n  }\n\n  reset = () => {\n    // const frame = this.get()\n    // frame.set('fill', defaultFrameOptions.fill)\n  }\n\n  setSelectionBorder = () => {\n    // const frame = this.root.frameHandler.get()\n    // frame.setSelectionBorder()\n  }\n\n  getOptions = (): FrameOptions => {\n    const frame = this.get()\n    return frame.toObject(this.root.propertiesToInclude)\n  }\n\n  scaleDimension = options => {\n    // const { pixelHeight, pixelWidth, isPortrait } = options\n    // const height = isPortrait ? pixelHeight * SCALE_FACTOR : pixelWidth * SCALE_FACTOR\n    // const width = isPortrait ? pixelWidth * SCALE_FACTOR : pixelHeight * SCALE_FACTOR\n    // return {\n    //   height,\n    //   width,\n    // }\n  }\n\n  getFitRatio = () => {\n    const canvasWidth = this.canvas.getWidth() - 32\n    const canvasHeight = this.canvas.getHeight() - 32\n    const options = this.getOptions()\n    let scaleX = canvasWidth / options.width\n    let scaleY = canvasHeight / options.height\n    if (options.height >= options.width) {\n      scaleX = scaleY\n      if (canvasWidth < options.width * scaleX) {\n        scaleX = scaleX * (canvasWidth / (options.width * scaleX))\n      }\n    } else {\n      if (canvasHeight < options.height * scaleX) {\n        scaleX = scaleX * (canvasHeight / (options.height * scaleX))\n      }\n    }\n    return scaleX\n  }\n}\n\nexport default FrameHandler\n","import { fabric } from 'fabric'\nimport { ObjectType, SCALE_FACTOR } from '../common/constants'\nimport { loadImageFromURL } from './image-loader'\nimport isNaN from 'lodash/isNaN'\n\nclass ObjectToFabric {\n  async run(item, options) {\n    let object\n    switch (item.type) {\n      case ObjectType.TEXTAREA:\n        object = await this.staticText(item, options)\n        break\n      case ObjectType.STATIC_IMAGE:\n        object = await this.staticImage(item, options)\n        break\n      case ObjectType.STATIC_VECTOR:\n        object = await this.staticVector(item, options)\n        break\n    }\n\n    return object\n  }\n\n  staticText(item, options) {\n    return new Promise((resolve, reject) => {\n      try {\n        const baseOptions = this.getBaseOptions(item, options)\n        const metadata = item.metadata\n        const { textAlign, fontFamily, fontSize, fontWeight, charSpacing, lineheight, value } = metadata\n        const textOptions = {\n          ...baseOptions,\n          text: value ? value : 'Default Text',\n          ...(textAlign && { textAlign }),\n          ...(fontFamily && { fontFamily }),\n          ...(fontSize && { fontSize: SCALE_FACTOR * fontSize }),\n          ...(fontWeight && { fontWeight }),\n          ...(charSpacing && { charSpacing }),\n          ...(lineheight && { lineheight }),\n        }\n        const element = new fabric.Textarea(textOptions)\n\n        const { top, left, width, height } = element\n\n        if (isNaN(top) || isNaN(left)) {\n          element.set({\n            top: options.top + options.height / 2 - height / 2,\n            left: options.left + options.width / 2 - width / 2,\n          })\n        }\n\n        resolve(element)\n      } catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  staticImage(item, options) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const baseOptions = this.getBaseOptions(item, options)\n        const src = item.metadata.src\n        const image = await loadImageFromURL(src)\n\n        const { width, height } = baseOptions\n        if (!width || !height) {\n          baseOptions.width = image.width\n          baseOptions.height = image.height\n        }\n\n        const element = new fabric.StaticImage(image, baseOptions)\n\n        const { top, left } = element\n\n        if (isNaN(top) || isNaN(left)) {\n          element.set({\n            top: options.top,\n            left: options.left,\n          })\n          element.scaleToWidth(320)\n        }\n        resolve(element)\n      } catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  staticVector(item, options) {\n    return new Promise(async (resolve, reject) => {\n      try {\n        const baseOptions = this.getBaseOptions(item, options)\n        const src = item.metadata.src\n\n        fabric.loadSVGFromURL(src, (objects, opts) => {\n          const { width, height, top, left } = baseOptions\n          if (!width || !height) {\n            baseOptions.width = opts.width\n            baseOptions.height = opts.height\n          }\n          const object = fabric.util.groupSVGElements(objects, opts)\n\n          if (isNaN(top) || isNaN(left)) {\n            object.set({\n              top: options.top,\n              left: options.left,\n            })\n            object.scaleToWidth(320)\n          }\n          resolve(object)\n        })\n      } catch (err) {\n        reject(err)\n      }\n    })\n  }\n\n  getBaseOptions(item, options) {\n    const { left, top, width, height, scaleX, scaleY } = item\n    let metadata = item.metadata ? item.metadata : {}\n    const { fill, angle, originX, originY } = metadata\n    let baseOptions = {\n      angle: angle ? angle : 0,\n      top: options.top + top * SCALE_FACTOR,\n      left: options.left + left * SCALE_FACTOR,\n      width: width * SCALE_FACTOR,\n      height: height * SCALE_FACTOR,\n      originX: originX || 'left',\n      originY: originY || 'top',\n      scaleX: scaleX || 1,\n      scaleY: scaleY || 1,\n      fill: fill || '#000000',\n      metadata: metadata,\n    }\n    return baseOptions\n  }\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default new ObjectToFabric()\n","//@ts-nocheck\nimport { fabric } from 'fabric'\n\nexport function loadFabricImageFromURL(src) {\n  return new Promise(resolve => {\n    fabric.Image.fromURL(src, function (img) {\n      resolve(img)\n    })\n  })\n}\n\nexport function loadImageFromURL(src): Promise<Image> {\n  return new Promise(resolve => {\n    const image = new Image()\n    image.src = src\n    image.onload = () => {\n      resolve(image)\n    }\n  })\n}\n","import { fabric } from 'fabric'\nimport objectToFabric from '../utils/objectToFabric'\nimport BaseHandler from './BaseHandler'\n\nclass ObjectHandler extends BaseHandler {\n  clipboard\n  isCut\n\n  create = async item => {\n    const options = this.root.frameHandler.getOptions()\n    const object: fabric.Object = await objectToFabric.run(item, options)\n    this.canvas.add(object)\n  }\n\n  /**\n   * Update object from canvas\n   */\n  updateTextKeys(value) {\n    // const activeObject = this.canvas.getActiveObject()\n    // if (activeObject && activeObject.insertVar) {\n    //   activeObject.insertVar(value)\n    //   this.context.setKeysMenu({\n    //     isEditing: true,\n    //     shouldShow: false,\n    //     object: undefined,\n    //     position: { left: 0, top: 0 },\n    //     visible: false,\n    //   })\n    // }\n  }\n\n  /**\n   * Get canvas object by id\n   */\n  updateActive = options => {\n    // const activeObject = this.canvas.getActiveObject()\n    // const canvas = this.canvas\n    // if (activeObject) {\n    //   for (const property in options) {\n    //     if (property === 'angle') {\n    //       activeObject.rotate(options['angle'])\n    //       // canvas.fire('object:modified');\n    //       canvas.requestRenderAll()\n    //     } else {\n    //       if (activeObject._objects) {\n    //         activeObject._objects.forEach(object => {\n    //           if (property === 'metadata') {\n    //             object.set('metadata', { ...object.metadata, ...options['metadata'] })\n    //           } else {\n    //             object.set(property, options[property])\n    //           }\n    //           object.setCoords()\n    //         })\n    //       } else {\n    //         if (property === 'metadata') {\n    //           activeObject.set('metadata', { ...activeObject.metadata, ...options[property] })\n    //         } else {\n    //           activeObject.set(property, options[property])\n    //         }\n    //         activeObject.setCoords()\n    //       }\n    //       if (activeObject.type === 'DynamicText') {\n    //         activeObject.updateHeigth()\n    //       }\n    //       canvas.requestRenderAll()\n    //     }\n    //   }\n    // }\n    // this.root.transactionHandler.save('object:updated')\n  }\n\n  /**\n   * Remove active object\n   */\n\n  removeActive() {\n    // this.canvas.getActiveObjects().forEach(obj => {\n    //   this.canvas.remove(obj)\n    // })\n    // this.canvas.discardActiveObject().renderAll()\n    // this.root.transactionHandler.save('object:removed')\n  }\n  /**\n   * Get canvas object by id\n   */\n  getObject() {\n    // const objects = this.canvas.getObjects()\n  }\n\n  /**\n   * Get active object\n   */\n  getActiveObject() {}\n\n  /**\n   * Delete object by id\n   */\n  deleteObject() {}\n\n  /**\n   * Remove all active objects\n   */\n  deleteActiveObjects() {}\n\n  /**\n   * Clear canvas\n   * @param {boolean} [includeWorkarea=false]\n   */\n  clear = (includeFrame = false) => {\n    // if (includeFrame) {\n    //   this.canvas.clear()\n    // } else {\n    //   const frame = this.root.frameHandler.get()\n    //   this.canvas.getObjects().forEach(object => {\n    //     if (object.type !== 'Frame' && object.type !== 'group') {\n    //       this.canvas.remove(object)\n    //     }\n    //   })\n    //   frame.set('fill', '#ffffff')\n    // }\n    // this.canvas.renderAll()\n  }\n\n  moveVertical = value => {\n    // const activeObject = this.canvas.getActiveObject()\n    // const top = activeObject.top + value\n    // this.updateActive({\n    //   top: top,\n    // })\n  }\n\n  moveHorizontal = value => {\n    // const activeObject = this.canvas.getActiveObject()\n    // const left = activeObject.left + value\n    // this.updateActive({\n    //   left: left,\n    // })\n  }\n\n  updateLineHeight = value => {\n    // const activeObject = this.canvas.getActiveObject()\n    // if (activeObject.type === 'DynamicText') {\n    //   const lineHeight = activeObject.lineHeight + value\n    //   this.updateActive({\n    //     lineHeight: lineHeight,\n    //   })\n    // }\n  }\n\n  updateCharSpacing = value => {\n    // const activeObject = this.canvas.getActiveObject()\n    // if (activeObject.type === 'DynamicText') {\n    //   const charSpacing = activeObject.charSpacing + value\n    //   this.updateActive({\n    //     charSpacing: charSpacing,\n    //   })\n    // }\n  }\n\n  cut = () => {\n    // this.copy()\n    // this.isCut = true\n    // this.remove()\n  }\n\n  copy = () => {\n    // const activeObject = this.canvas.getActiveObject()\n    // if (activeObject) {\n    //   activeObject.clone(\n    //     cloned => {\n    //       this.clipboard = cloned\n    //     },\n    //     ['metadata', 'subtype']\n    //   )\n    // }\n  }\n\n  paste = () => {\n    // const { isCut, clipboard } = this\n    // const padding = isCut ? 0 : 10\n    // if (!clipboard) {\n    //   return false\n    // }\n    // clipboard.clone(\n    //   clonedObj => {\n    //     this.canvas.discardActiveObject()\n    //     clonedObj.set({\n    //       left: clonedObj.left + padding,\n    //       top: clonedObj.top + padding,\n    //       evented: true,\n    //     })\n    //     if (clonedObj.type === 'activeSelection') {\n    //       // active selection needs a reference to the canvas.\n    //       clonedObj.canvas = this.canvas\n    //       clonedObj.forEachObject(obj => {\n    //         this.canvas.add(obj)\n    //       })\n    //       clonedObj.setCoords()\n    //     } else {\n    //       this.canvas.add(clonedObj)\n    //     }\n    //     clipboard.top += padding\n    //     clipboard.left += padding\n    //     this.canvas.setActiveObject(clonedObj)\n    //     this.canvas.requestRenderAll()\n    //   },\n    //   ['metadata', 'subtype']\n    // )\n    // this.isCut = false\n  }\n\n  remove = () => {\n    // const activeObjects = this.canvas.getActiveObjects()\n    // if (!activeObjects) {\n    //   return\n    // }\n    // activeObjects.forEach(obj => {\n    //   this.canvas.remove(obj)\n    // })\n    // this.canvas.discardActiveObject().renderAll()\n  }\n\n  selectAll = () => {\n    // this.canvas.discardActiveObject()\n    // const filteredObjects = this.canvas.getObjects().filter(object => {\n    //   if (object.type === 'Frame') {\n    //     return false\n    //   } else if (!object.evented) {\n    //     return false\n    //   } else if (object.locked) {\n    //     return false\n    //   }\n    //   return true\n    // })\n    // if (!filteredObjects.length) {\n    //   return\n    // }\n    // if (filteredObjects.length === 1) {\n    //   this.canvas.setActiveObject(filteredObjects[0])\n    //   this.canvas.renderAll()\n    //   return\n    // }\n    // const activeSelection = new fabric.ActiveSelection(filteredObjects, {\n    //   canvas: this.canvas,\n    //   ...this.activeSelectionOption,\n    // })\n    // this.canvas.setActiveObject(activeSelection)\n    // this.canvas.renderAll()\n  }\n}\n\nexport default ObjectHandler\n","import { fabric } from 'fabric'\nimport throttle from 'lodash/throttle'\nimport BaseHandler from './BaseHandler'\n\nclass TransactionHandler extends BaseHandler {\n  redos = []\n  undos = []\n  state = {}\n  active = false\n  save = type => {\n    try {\n      if (this.state) {\n        const json = this.state\n        this.undos.push({\n          type,\n          json,\n        })\n        const canvasJSON: any = this.canvas.toJSON(this.root.propertiesToInclude)\n\n        canvasJSON.objects.forEach(object => {\n          if (object.clipPath) {\n            fabric.util.enlivenObjects(\n              [object.clipPath],\n              function (arg1) {\n                object.clipPath = arg1[0]\n              },\n              ''\n            )\n          }\n        })\n\n        this.state = canvasJSON\n      }\n    } catch (err) {\n      console.log(err)\n    }\n    this.canvas.fire('history:changed')\n  }\n\n  clear = () => {\n    this.redos = []\n    this.undos = []\n  }\n\n  undo = throttle(() => {\n    const undo = this.undos.pop()\n    if (!undo) {\n      return\n    }\n    this.redos.push({\n      type: 'redo',\n      json: this.state,\n    })\n    this.replay(undo)\n  }, 100)\n\n  redo = throttle(() => {\n    const redo = this.redos.pop()\n    if (!redo) {\n      return\n    }\n    this.undos.push({\n      type: 'undo',\n      json: this.state,\n    })\n    this.replay(redo)\n  }, 100)\n\n  replay = async transaction => {\n    const objects = transaction.json\n    this.state = objects\n    this.active = true\n    this.root.objectsHandler.clear(true)\n    this.canvas.discardActiveObject()\n    this.canvas.loadFromJSON(objects, () => {\n      this.canvas.renderAll.bind(this.canvas)\n      this.canvas.fire('history:changed')\n    })\n    this.active = false\n  }\n\n  getAll = () => {\n    return {\n      undos: this.undos,\n      redos: this.redos,\n      state: this.state,\n    }\n  }\n}\n\nexport default TransactionHandler\n","import { fabric } from 'fabric'\nimport BaseHandler from './BaseHandler'\n\nclass ZoomHandler extends BaseHandler {\n  zoomIn() {\n    let zoomRatio = this.canvas.getZoom()\n    zoomRatio += 0.05\n    const center = this.canvas.getCenter()\n    this.zoomToPoint(new fabric.Point(center.left, center.top), zoomRatio)\n    this.context.setZoomRatio(zoomRatio)\n  }\n\n  zoomOut() {\n    let zoomRatio = this.canvas.getZoom()\n    zoomRatio -= 0.05\n    const center = this.canvas.getCenter()\n    this.zoomToPoint(new fabric.Point(center.left, center.top), zoomRatio)\n    this.context.setZoomRatio(zoomRatio)\n  }\n\n  zoomToOne() {\n    const center = this.canvas.getCenter()\n    this.canvas.setViewportTransform([1, 0, 0, 1, 0, 0])\n    this.zoomToPoint(new fabric.Point(center.left, center.top), 1)\n    this.context.setZoomRatio(1)\n  }\n\n  zoomToFit() {\n    const zoomFitRatio = this.root.frameHandler.getFitRatio()\n    const center = this.canvas.getCenter()\n    this.canvas.setViewportTransform([1, 0, 0, 1, 0, 0])\n    this.zoomToPoint(new fabric.Point(center.left, center.top), zoomFitRatio)\n    this.context.setZoomRatio(zoomFitRatio)\n  }\n\n  zoomToRatio(zoomRatio) {\n    const center = this.canvas.getCenter()\n    this.zoomToPoint(new fabric.Point(center.left, center.top), zoomRatio)\n    this.context.setZoomRatio(zoomRatio)\n  }\n\n  zoomToPoint(point, zoom) {\n    const minZoom = 10\n    const maxZoom = 300\n    let zoomRatio = zoom\n    if (zoom <= minZoom / 100) {\n      zoomRatio = minZoom / 100\n    } else if (zoom >= maxZoom / 100) {\n      zoomRatio = maxZoom / 100\n    }\n    this.canvas.zoomToPoint(point, zoomRatio)\n    this.context.setZoomRatio(zoomRatio)\n  }\n}\n\nexport default ZoomHandler\n","import { fabric } from 'fabric'\n\nexport function drawCircleIcon(ctx, left, top, styleOverride, fabricObject) {\n  ctx.save()\n  ctx.translate(left, top)\n  ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle))\n  ctx.beginPath()\n  ctx.lineCap = 'round'\n  ctx.lineWidth = 3\n  ctx.shadowBlur = 2\n  ctx.shadowColor = 'black'\n  ctx.arc(0, 0, 5.5, 0, 2 * Math.PI)\n  ctx.fillStyle = '#ffffff'\n  ctx.fill()\n  ctx.restore()\n}\n\nexport function drawVerticalLineIcon(ctx, left, top, styleOverride, fabricObject) {\n  const size = this.cornerSize\n  ctx.save()\n  ctx.translate(left, top)\n  ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle))\n  ctx.beginPath()\n  ctx.lineCap = 'round'\n  ctx.lineWidth = 3\n  ctx.shadowBlur = 2\n  ctx.shadowColor = 'black'\n  ctx.moveTo(-0.5, -size / 4)\n  ctx.lineTo(-0.5, -size / 4 + size / 2)\n  ctx.strokeStyle = '#ffffff'\n  ctx.stroke()\n  ctx.restore()\n}\n\nexport function drawHorizontalLineIcon(ctx, left, top, styleOverride, fabricObject) {\n  const size = this.cornerSize\n  ctx.save()\n  ctx.translate(left, top)\n  ctx.rotate(fabric.util.degreesToRadians(fabricObject.angle))\n  ctx.beginPath()\n  ctx.lineCap = 'round'\n  ctx.lineWidth = 3\n  ctx.shadowBlur = 2\n  ctx.shadowColor = 'black'\n  ctx.moveTo(-size / 4, -0.5)\n  ctx.lineTo(-size / 4 + size / 2, -0.5)\n  ctx.strokeStyle = '#ffffff'\n  ctx.stroke()\n  ctx.restore()\n}\n\nexport function drawRotateIcon(ctx, left, top, styleOverride, fabricObject) {\n  const radius = 6\n  let lineWidth = radius / 3\n  let arrowWidth = radius / 2\n  const center = {\n    x: left,\n    y: top\n  }\n  let arrow1 = {\n    startAngle: (1 / 2) * Math.PI + 0.6,\n    endAngle: (3 / 2) * Math.PI\n  }\n\n  let arrow2 = {\n    startAngle: (3 / 2) * Math.PI + 0.6,\n    endAngle: (1 / 2) * Math.PI\n  }\n  function draw(startAngle, endAngle) {\n    ctx.beginPath()\n    ctx.shadowBlur = 0\n\n    ctx.arc(center.x, center.y, radius, startAngle, endAngle)\n    ctx.lineWidth = lineWidth\n    ctx.strokeStyle = '#000000'\n    ctx.stroke()\n\n    ctx.beginPath()\n    let arrowTop = getPointOnCircle(center, radius, endAngle + 0.4)\n\n    ctx.moveTo(arrowTop.x, arrowTop.y)\n\n    let arrowLeft = getPointOnCircle(center, radius - arrowWidth, endAngle)\n    ctx.lineTo(arrowLeft.x, arrowLeft.y)\n\n    let arrowRight = getPointOnCircle(center, radius + arrowWidth, endAngle)\n    ctx.lineTo(arrowRight.x, arrowRight.y)\n    ctx.fillStyle = '#000000'\n\n    ctx.closePath()\n    ctx.fill()\n  }\n\n  function getPointOnCircle(center, radius, angle) {\n    let pX = center.x + Math.cos(angle) * radius\n    let pY = center.y + Math.sin(angle) * radius\n    return { x: pX, y: pY }\n  }\n\n  ctx.save()\n  ctx.translate(0, 0)\n\n  ctx.beginPath()\n  ctx.arc(center.x, center.y, radius + 6, 0, Math.PI * 2)\n  ctx.fillStyle = '#ffffff'\n  ctx.shadowBlur = 2\n  ctx.shadowColor = 'black'\n  ctx.fill()\n  ctx.closePath()\n  draw(arrow1.startAngle, arrow1.endAngle)\n  draw(arrow2.startAngle, arrow2.endAngle)\n  ctx.restore()\n}\n","// @ts-nocheck\nimport { fabric } from 'fabric'\nimport { HandlerOptions } from '../common/interfaces'\nimport BaseHandler from './BaseHandler'\nimport { drawCircleIcon, drawVerticalLineIcon, drawHorizontalLineIcon, drawRotateIcon } from '../utils/drawer'\n\nclass PersonalizationHandler extends BaseHandler {\n  constructor(props: HandlerOptions) {\n    super(props)\n    this.init()\n  }\n\n  init() {\n    fabric.Object.prototype.transparentCorners = false\n    fabric.Object.prototype.cornerColor = '#20bf6b'\n    fabric.Object.prototype.cornerStyle = 'circle'\n    fabric.Object.prototype.borderColor = '#7f66f1'\n    fabric.Object.prototype.cornerSize = 12\n    fabric.Object.prototype.borderScaleFactor = 2.4\n    fabric.Object.prototype.borderOpacityWhenMoving = 0\n\n    fabric.Object.prototype.controls.tr = new fabric.Control({\n      x: 0.5,\n      y: -0.5,\n      actionHandler: fabric.controlsUtils.scalingEqually,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawCircleIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.tl = new fabric.Control({\n      x: -0.5,\n      y: -0.5,\n      actionHandler: fabric.controlsUtils.scalingEqually,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawCircleIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.bl = new fabric.Control({\n      x: -0.5,\n      y: 0.5,\n      actionHandler: fabric.controlsUtils.scalingEqually,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawCircleIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.br = new fabric.Control({\n      x: 0.5,\n      y: 0.5,\n      actionHandler: fabric.controlsUtils.scalingEqually,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawCircleIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.ml = new fabric.Control({\n      x: -0.5,\n      y: 0,\n      actionHandler: fabric.controlsUtils.scalingXOrSkewingY,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawVerticalLineIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.mt = new fabric.Control({\n      x: 0,\n      y: -0.5,\n      actionHandler: fabric.controlsUtils.scalingYOrSkewingX,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawHorizontalLineIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.mb = new fabric.Control({\n      x: 0,\n      y: 0.5,\n      actionHandler: fabric.controlsUtils.scalingYOrSkewingX,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawHorizontalLineIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.mr = new fabric.Control({\n      x: 0.5,\n      y: 0,\n      actionHandler: fabric.controlsUtils.scalingXOrSkewingY,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: fabric.controlsUtils.scaleOrSkewActionName,\n      render: drawVerticalLineIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Object.prototype.controls.mtr = new fabric.Control({\n      x: 0,\n      y: -0.5,\n      offsetY: -40,\n      actionHandler: fabric.controlsUtils.rotationWithSnapping,\n      cursorStyleHandler: fabric.controlsUtils.rotationStyleHandler,\n      actionName: 'rotate',\n      render: drawRotateIcon,\n      cornerSize: 28,\n      withConnection: false,\n    })\n\n    // Texbox controls\n    fabric.Textbox.prototype.controls.tr = fabric.Object.prototype.controls.tr\n    fabric.Textbox.prototype.controls.tl = fabric.Object.prototype.controls.tl\n    fabric.Textbox.prototype.controls.bl = fabric.Object.prototype.controls.bl\n    fabric.Textbox.prototype.controls.br = fabric.Object.prototype.controls.br\n\n    fabric.Textbox.prototype.controls.mt = new fabric.Control({\n      render: () => false,\n    })\n\n    fabric.Textbox.prototype.controls.mb = fabric.Textbox.prototype.controls.mt\n\n    fabric.Textbox.prototype.controls.mr = new fabric.Control({\n      x: 0.5,\n      y: 0,\n      actionHandler: fabric.controlsUtils.changeWidth,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: 'resizing',\n      render: drawVerticalLineIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Textbox.prototype.controls.ml = new fabric.Control({\n      x: -0.5,\n      y: 0,\n      actionHandler: fabric.controlsUtils.changeWidth,\n      cursorStyleHandler: fabric.controlsUtils.scaleSkewCursorStyleHandler,\n      actionName: 'resizing',\n      render: drawVerticalLineIcon,\n      cornerSize: 28,\n      withConnection: true,\n    })\n\n    fabric.Textbox.prototype.controls.mtr = new fabric.Control({\n      x: 0,\n      y: -0.5,\n      offsetY: -40,\n      actionHandler: fabric.controlsUtils.rotationWithSnapping,\n      cursorStyleHandler: fabric.controlsUtils.rotationStyleHandler,\n      actionName: 'rotate',\n      render: drawRotateIcon,\n      cornerSize: 28,\n      withConnection: false,\n    })\n\n    this.canvas.selectionColor = 'rgba(46, 204, 113, 0.15)'\n    this.canvas.selectionBorderColor = 'rgb(39, 174, 96)'\n    this.canvas.selectionLineWidth = 0.4\n    this.canvas.on('selection:created', ev => {\n      const objects = this.canvas.getActiveObjects()\n      if (objects.length > 1) {\n        ev.target.setControlsVisibility({\n          mt: false,\n          mb: false,\n          mr: false,\n          ml: false,\n        })\n        ev.target.borderDashArray = [7]\n      }\n    })\n    this.canvas.on('mouse:over', event => {\n      const target = event.target\n      const activeObjects = this.canvas.getActiveObject()\n      if (target && activeObjects !== target) {\n        const bound = target.getBoundingRect()\n        const ctx = this.canvas.getContext()\n        ctx.strokeStyle = '#7f66f1'\n        ctx.lineWidth = 2.75\n        ctx.strokeRect(bound.left, bound.top, bound.width, bound.height)\n      }\n    })\n  }\n}\n\nexport default PersonalizationHandler\n","import { FabricCanvas, HandlerOptions, RootHandlerOptions } from '../common/interfaces'\nimport { PROPERTIES_TO_INCLUDE } from '../common/constants'\nimport CanvasHandler from './CanvasHandler'\nimport EventsHandler from './EventsHandler'\nimport FrameHandler from './FrameHandler'\nimport ObjectHandler from './ObjectsHandler'\nimport TransactionHandler from './TransactionHandler'\nimport ZoomHandler from './ZoomHandler'\nimport PersonalizationHandler from './PersonalizationHandler'\nclass Handlers {\n  public frameHandler: FrameHandler\n  public eventsHandler: EventsHandler\n  public canvasHandler: CanvasHandler\n  public objectsHandler: ObjectHandler\n  public transactionHandler: TransactionHandler\n  public zoomHandler: ZoomHandler\n  public canvas: FabricCanvas\n  public propertiesToInclude: string[]\n  private personalizationHandler: PersonalizationHandler\n  constructor(props: RootHandlerOptions) {\n    this.propertiesToInclude = PROPERTIES_TO_INCLUDE\n    const handlerOptions: HandlerOptions = {\n      root: this,\n      canvas: props.canvas,\n      context: props.context,\n    }\n    this.canvasHandler = new CanvasHandler(handlerOptions)\n    this.frameHandler = new FrameHandler(handlerOptions)\n    this.objectsHandler = new ObjectHandler(handlerOptions)\n    this.transactionHandler = new TransactionHandler(handlerOptions)\n    this.zoomHandler = new ZoomHandler(handlerOptions)\n    this.eventsHandler = new EventsHandler(handlerOptions)\n    this.personalizationHandler = new PersonalizationHandler(handlerOptions)\n  }\n\n  destroy = () => {}\n}\n\nexport default Handlers\n","import Handlers from './Handlers'\n\nexport default Handlers\n","import { fabric } from 'fabric'\n\nexport class FrameObject extends fabric.Rect {\n  static type = 'Frame'\n  initialize(options: FrameOptions) {\n    super.initialize({\n      ...options,\n      selectable: false,\n      hasControls: false,\n      lockMovementY: true,\n      lockMovementX: true,\n      strokeWidth: 0,\n      padding: 0,\n    })\n    return this\n  }\n\n  toObject(propertiesToInclude: string[] = []) {\n    return super.toObject(propertiesToInclude)\n  }\n  toJSON(propertiesToInclude: string[] = []) {\n    return super.toJSON(propertiesToInclude)\n  }\n  static fromObject(options: FrameOptions) {\n    return new fabric.Frame(options)\n  }\n}\n\nfabric.Frame = fabric.util.createClass(FrameObject, {\n  type: FrameObject.type,\n})\nfabric.Frame.fromObject = FrameObject.fromObject\n\nexport interface FrameOptions extends fabric.IRectOptions {\n  id: string\n  name: string\n  description?: string\n}\n\ndeclare module 'fabric' {\n  namespace fabric {\n    class Frame extends FrameObject {\n      constructor(options: FrameOptions)\n    }\n  }\n}\n","import { fabric } from 'fabric'\n\nexport class TextareaObject extends fabric.Textbox {\n  static type = 'Textarea'\n\n  initialize(options: TextareaOptions) {\n    const { text, ...textOptions } = options\n    //@ts-ignore\n    super.initialize(text, textOptions)\n\n    return this\n  }\n  toObject(propertiesToInclude = []) {\n    return super.toObject(propertiesToInclude)\n  }\n  toJSON(propertiesToInclude = []) {\n    return super.toObject(propertiesToInclude)\n  }\n  static fromObject(options: TextareaOptions, callback: Function) {\n    return callback && callback(new fabric.Textarea(options))\n  }\n}\n\nfabric.Textarea = fabric.util.createClass(TextareaObject, {\n  type: TextareaObject.type,\n})\nfabric.Textarea.fromObject = TextareaObject.fromObject\n\nexport type TextareaOptions = fabric.ITextboxOptions & { text: string }\n\ndeclare module 'fabric' {\n  namespace fabric {\n    class Textarea extends TextareaObject {\n      constructor(options: TextareaOptions)\n    }\n  }\n}\n","import { fabric } from 'fabric'\n\nexport class StaticImageObject extends fabric.Image {\n  static type = 'StaticImage'\n  subtype = 'image'\n  //@ts-ignore\n  initialize(element, options) {\n    this.subtype = options.subtype\n    //@ts-ignore\n    super.initialize(element, options)\n    return this\n  }\n\n  static fromObject(options, callback) {\n    fabric.util.loadImage(options.src, function (img) {\n      // @ts-ignore\n      return callback && callback(new fabric.StaticImage(img, options))\n    })\n  }\n\n  toObject(propertiesToInclude = []) {\n    // @ts-ignore\n    return super.toObject(propertiesToInclude, {\n      subtype: this.subtype,\n    })\n  }\n  toJSON(propertiesToInclude = []) {\n    // @ts-ignore\n    return super.toObject(propertiesToInclude, {\n      subtype: this.subtype,\n    })\n  }\n}\n\nfabric.StaticImage = fabric.util.createClass(StaticImageObject, {\n  type: StaticImageObject.type,\n})\nfabric.StaticImage.fromObject = StaticImageObject.fromObject\n\nexport interface StaticImageOptions extends fabric.IImageOptions {\n  id: string\n  name?: string\n  description?: string\n  subtype: string\n  src: string\n}\n\ndeclare module 'fabric' {\n  namespace fabric {\n    class StaticImage extends StaticImageObject {\n      constructor(element: any, options: any)\n    }\n  }\n}\n","import { useContext } from 'react'\nimport { EditorContext } from '../context'\n\nexport function useEditorContext() {\n  const { setCanvas, canvas, activeObject, setActiveObject, zoomRatio } = useContext(EditorContext)\n\n  return {\n    setCanvas,\n    canvas,\n    activeObject,\n    setActiveObject,\n    zoomRatio,\n  }\n}\n","import { useContext } from 'react'\nimport { EditorContext } from '../context'\n\nexport function useHandlers() {\n  const { handlers } = useContext(EditorContext)\n\n  return handlers\n}\n","import Editor from './editor'\n\nexport default Editor\nexport * from './hooks'\nexport * from './context'\n","import { fabric } from 'fabric'\nimport { useContext, useEffect, useRef } from 'react'\nimport { FabricCanvas } from './common/interfaces'\nimport { EditorContext } from './context'\nimport Handlers from './handlers'\nimport './objects'\n\nfunction Editor() {\n  const containerRef = useRef<HTMLDivElement>()\n  const context = useContext(EditorContext)\n  const { setHandlers } = context\n\n  useEffect(() => {\n    const container = containerRef.current\n    const { clientHeight, clientWidth } = container\n\n    const canvas = new fabric.Canvas('canvas', {\n      backgroundColor: '#f6f7f9',\n      height: clientHeight,\n      width: clientWidth,\n      preserveObjectStacking: true,\n    }) as FabricCanvas\n    const handlers = new Handlers({\n      canvas: canvas,\n      context: context,\n    })\n    setHandlers(handlers)\n    context.setCanvas(canvas)\n\n    const resizeObserver = new ResizeObserver(entries => {\n      const { width = clientWidth, height = clientHeight } = (entries[0] && entries[0].contentRect) || {}\n      handlers.canvasHandler.resize(width, height)\n    })\n    resizeObserver.observe(container)\n    return () => {\n      handlers.destroy()\n      if (container) {\n        resizeObserver.unobserve(container)\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  return (\n    <div ref={containerRef} style={{ flex: 1, position: 'relative' }}>\n      <div\n        style={{\n          position: 'absolute',\n          height: '100%',\n          width: '100%',\n        }}\n      >\n        <canvas id=\"canvas\"></canvas>\n      </div>\n    </div>\n  )\n}\n\nexport default Editor\n","import { Flex, IconButton, Input } from 'theme-ui'\nimport { useState } from 'react'\nimport { DownloadIcon, LogoIcon, GithubIcon } from './NavbarIcons'\n//import context from \"../../uibox/editor\";\nimport { useEditorContext } from '@/uibox'\n\nfunction Navbar() {\n  const { canvas } = useEditorContext()\n  const [templateName, setTemplateName] = useState('My First Design')\n  const downloadImage = () => {\n    //@ts-ignore\n    // const workarea = canvas.getObjects().find(obj => obj.id === 'workarea')\n    // const data = canvas?.toDataURL({\n    //   multiplier: 3,\n    //   top: workarea.top,\n    //   left: workarea.left,\n    //   height: workarea.height,\n    //   width: workarea.width,\n    // })\n    // if (data) {\n    //   const a = document.createElement('a')\n    //   a.href = data\n    //   a.download = 'drawing.png'\n    //   a.click()\n    // }\n     const data = canvas?.toDataURL({\n      multiplier: 3,\n      top: 0,\n      left: 0,\n      height: canvas.height,\n      width: canvas.width,\n    });\n    // const data= canvas?.toDataURL(\"image/png\");\n    if (data) {\n      const a = document.createElement('a')\n      a.href = data\n      a.download = 'drawing.png'\n      a.click()\n    }\n  }\n\n  return (\n    <Flex\n      sx={{\n        fontFamily: 'Mukta',\n        height: '60px',\n        background: 'linear-gradient(90deg, #00c4cc, #7d2ae8)',\n        justifyContent: 'space-between',\n        color: '#fff',\n        padding: '0 1rem',\n      }}\n    >\n      <Flex sx={{ alignItems: 'center' }}>\n        <LogoIcon height=\"36px\" />\n      </Flex>\n\n      <Flex sx={{ alignItems: 'center' }}>\n        <Input\n          sx={{ textAlign: 'center', border: 'none', outline: 0 }}\n          value={templateName}\n          onChange={e => setTemplateName(e.target.value)}\n          placeholder=\"New template\"\n        />\n      </Flex>\n      <Flex sx={{ alignItems: 'center' }}>\n        <IconButton>\n          <DownloadIcon style={{ color: '#fff' }} onClick={downloadImage} />\n        </IconButton>\n        <a\n          style={{ color: '#fff', outline: 'none', marginLeft: '1rem' }}\n          href=\"https://github.com/xorb/react-design-editor\"\n        >\n          <IconButton>\n            <GithubIcon />\n          </IconButton>\n        </a>\n      </Flex>\n    </Flex>\n  )\n}\n\nexport default Navbar\n","interface ClosePanelProp {\n  closePanel: () => void\n  panelOpen: boolean\n}\n\nfunction ClosePanel({ closePanel, panelOpen }: ClosePanelProp) {\n  return (\n    <div\n      style={{ opacity: `${panelOpen ? 1 : 0}`, transition: 'all 0.6s' }}\n      onClick={closePanel}\n      className=\"panel-item-close\"\n    >\n      <div className=\"c2\">\n        <svg width=\"14\" height=\"96\" viewBox=\"0 0 14 96\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            d=\"M2 1.006C2.001 4.507 2.916 10.402 6.571 14L7.099 14.518C11.262 18.605 13.875 21.17 13.996 28H14V68C14 75.207 11.361 77.798 7.098 81.982L6.571 82.5C2.916 86.098 2.001 91.993 2 95.494V96H0V0H2V1.006Z\"\n            fill=\"#29303a\"\n          />\n        </svg>\n      </div>\n      <div className=\"c1\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 12 12\">\n          <path\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeLinecap=\"round\"\n            strokeWidth=\"1.25\"\n            d=\"M7 3.17L4.88 5.3a1 1 0 0 0 0 1.42L7 8.83\"\n          ></path>\n        </svg>\n      </div>\n    </div>\n  )\n}\n\nexport default ClosePanel\n","export const tabItems = [\n  {\n    icon: 'templates',\n    label: 'Şablonlar',\n    name: 'templates',\n  },\n  {\n    icon: 'images',\n    label: 'Fotoğraf',\n    name: 'images',\n  },\n  {\n    icon: 'texts',\n    label: 'Metin',\n    name: 'text',\n  },\n  {\n    icon: 'objects',\n    label: 'Nesneler',\n    name: 'objects',\n  },\n  {\n    icon: 'layers',\n    label: 'Katmanlar',\n    name: 'layers',\n  },\n  {\n    icon: 'musics',\n    label: 'Müzik',\n    name: 'musics',\n  },\n  {\n    icon: 'videos',\n    label: 'Videolar',\n    name: 'videos',\n  },\n]\n","function TemplateIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        d=\"M19.5 10V5a.5.5 0 0 0-.5-.5h-4.5V10h5zm0 1.5h-5v8H19a.5.5 0 0 0 .5-.5v-7.5zm-6.5-7H5a.5.5 0 0 0-.5.5v14c0 .28.22.5.5.5h8v-15zM5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2z\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction ObjectIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"currentColor\"\n        d=\"M3.5 20.61h6v-6h-6v6zm-.5-7.5h7a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1zm11.54-3.5h5.92L17.5 4.06l-2.96 5.55zm7.63.03a1 1 0 0 1-.88 1.47H13.7a1 1 0 0 1-.88-1.47l3.79-7.11a1 1 0 0 1 1.76 0l3.8 7.11zM17.5 20.81a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4zM4.68 7.4l2 2 3.38-3.37a1.41 1.41 0 1 0-2-2L6.68 5.4 5.32 4.02a1.42 1.42 0 0 0-2 2L4.68 7.4zm-2.12 0l-.3-.31a2.91 2.91 0 1 1 4.12-4.13l.3.31.31-.3a2.92 2.92 0 0 1 4.13 4.12L7.39 10.8a1 1 0 0 1-1.41 0L2.56 7.4zM17.5 22.3a4.7 4.7 0 1 1 0-9.4 4.7 4.7 0 0 1 0 9.4z\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction TextIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"currentColor\"\n        fillRule=\"evenodd\"\n        d=\"M18 5.5h-5.25V18c0 .28.22.5.5.5h2a.75.75 0 1 1 0 1.5h-6.5a.75.75 0 1 1 0-1.5h2a.5.5 0 0 0 .5-.5V5.5H6a.5.5 0 0 0-.5.5v1.25a.75.75 0 0 1-1.5 0V5.5C4 4.67 4.67 4 5.5 4h13c.83 0 1.5.67 1.5 1.5v1.75a.75.75 0 1 1-1.5 0V6a.5.5 0 0 0-.5-.5z\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction ImageIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"currentColor\"\n        d=\"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2zm0 1.5a.5.5 0 0 0-.5.5v14c0 .28.22.5.5.5h14a.5.5 0 0 0 .5-.5V5a.5.5 0 0 0-.5-.5H5zm5.75 10.1l3.05-4.15a2 2 0 0 1 3.22-.01L21 15.78V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-.09l3.82-5.25a2 2 0 0 1 3.22 0l.7.95zm3.6 4.9H19a.5.5 0 0 0 .5-.5v-2.72l-3.69-4.94a.5.5 0 0 0-.8 0l-3.33 4.53 2.68 3.63zm-5.51-4.96a.5.5 0 0 0-.81 0l-3.44 4.74a.5.5 0 0 0 .41.22h7.5l-3.66-4.96zM8.5 10a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction VideoIcon() {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M4 5h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2zm0 1.5a.5.5 0 0 0-.5.5v10s.224.5.5.5h16s.5-.224.5-.5V7a.5.5 0 0 0-.5-.5H4zM14.5 12L10 9.5v5l4.5-2.5z\"\n        fill=\"currentColor\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction AudioIcon() {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M8.248 5.35c-.138 0-.75.336-.75.75v8.91a3.25 3.25 0 1 0 1.5 2.74c0-.114.011.061 0-.05.011-.052 0-.395 0-.45V6.85l9.997-2v7.16a3.25 3.25 0 1 0 1.5 2.74c0-.114.011.061 0-.05.011-.052 0-.395 0-.45l-.018-10.4c0-.414-.318-.85-.732-.85L8.248 5.35zm-.75 12.4a1.75 1.75 0 1 1-3.499 0 1.75 1.75 0 0 1 3.5 0zm11.497-3a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0z\"\n        fill=\"currentColor\"\n      ></path>\n    </svg>\n  )\n}\nfunction ProjectIcon() {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\" width=\"24\" height=\"24\">\n      <path\n        fill=\"currentColor\"\n        d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zm-22.6 22.7c2.1 2.1 3.5 4.6 4.2 7.4H256V32.5c2.8.7 5.3 2.1 7.4 4.2l83.9 83.9zM336 480H48c-8.8 0-16-7.2-16-16V48c0-8.8 7.2-16 16-16h176v104c0 13.3 10.7 24 24 24h104v304c0 8.8-7.2 16-16 16z\"\n      ></path>\n    </svg>\n  )\n}\nfunction LayerIcon() {\n  return (\n    <svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\">\n      <path\n        fill=\"currentColor\"\n        d=\"M506.283,161.216l-245.333-128c-3.093-1.621-6.784-1.621-9.877,0l-245.333,128C2.219,163.051,0,166.677,0,170.667\n       c0,3.989,2.219,7.616,5.739,9.451l245.333,128c1.536,0.811,3.243,1.216,4.928,1.216s3.392-0.405,4.928-1.216l245.333-128\n       c3.52-1.835,5.739-5.461,5.739-9.451S509.781,163.051,506.283,161.216z M256,286.656L33.728,170.667L256,54.677l222.272,115.989\n       L256,286.656z\"\n      />\n\n      <path\n        fill=\"currentColor\"\n        d=\"M506.283,246.528l-35.669-18.603c-5.205-2.667-11.669-0.704-14.4,4.523c-2.731,5.227-0.704,11.669,4.523,14.4L478.272,256\n       L256,371.989L33.728,256l17.557-9.131c5.227-2.731,7.253-9.173,4.523-14.4c-2.731-5.248-9.195-7.189-14.4-4.523L5.739,246.549\n       C2.219,248.384,0,252.011,0,256s2.219,7.616,5.739,9.451l245.333,128c1.536,0.811,3.243,1.216,4.928,1.216\n       s3.392-0.405,4.928-1.216l245.333-128c3.52-1.835,5.739-5.461,5.739-9.451S509.781,248.384,506.283,246.528z\"\n      />\n\n      <path\n        fill=\"currentColor\"\n        d=\"M506.283,331.861l-35.669-18.603c-5.205-2.667-11.669-0.704-14.4,4.523c-2.731,5.227-0.704,11.669,4.523,14.4\n       l17.536,9.152L256,457.323L33.728,341.333l17.557-9.131c5.227-2.731,7.253-9.173,4.523-14.4c-2.731-5.227-9.195-7.211-14.4-4.523\n       L5.739,331.883C2.219,333.717,0,337.344,0,341.333c0,3.989,2.219,7.616,5.739,9.451l245.333,128\n       c1.536,0.811,3.243,1.216,4.928,1.216s3.392-0.405,4.928-1.216l245.333-128c3.52-1.835,5.739-5.461,5.739-9.451\n       C512,337.344,509.781,333.717,506.283,331.861z\"\n      />\n    </svg>\n  )\n}\n\nconst PanelIcons = {\n  project: {\n    render: () => <ProjectIcon />,\n  },\n  templates: {\n    render: () => <TemplateIcon />,\n  },\n  objects: {\n    render: () => <ObjectIcon />,\n  },\n  images: {\n    render: () => <ImageIcon />,\n  },\n  videos: {\n    render: () => <VideoIcon />,\n  },\n  layers: {\n    render: () => <LayerIcon />,\n  },\n  texts: {\n    render: () => <TextIcon />,\n  },\n  musics: {\n    render: () => <AudioIcon />,\n  },\n}\n\nexport default PanelIcons\n","import classNames from 'classnames'\nimport PanelItemIcon from './PanelItemIcon'\n\ninterface Props {\n  activeTab: string\n  label: string\n  icon: string\n  name: string\n  panelOpen: boolean\n  setActiveTab: React.Dispatch<React.SetStateAction<string>>\n  setPanelOpen: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nfunction PanelItem(props: Props) {\n  const { setActiveTab, label, icon, name, activeTab, setPanelOpen } = props\n  const className = classNames({\n    'panel-items-list-item': true,\n    active: activeTab === name,\n  })\n\n  return (\n    <div\n      className={className}\n      onClick={() => {\n        setPanelOpen(true)\n        setActiveTab(name)\n      }}\n    >\n      {PanelItemIcon[icon].render()}\n      <span>{label}</span>\n    </div>\n  )\n}\n\nexport default PanelItem\n","import { Box } from 'theme-ui'\nimport { Scrollbars } from 'react-custom-scrollbars'\nimport { tabItems } from './tabItems'\nimport PanelItemsListItem from './PanelsListItem'\nimport i18n from 'i18next'\n\ninterface Props {\n  setActiveTab: React.Dispatch<React.SetStateAction<string>>\n  activeTab: string\n  panelOpen: boolean\n  setPanelOpen: React.Dispatch<React.SetStateAction<boolean>>\n}\n\nfunction PanelItems(props: Props) {\n  const { setActiveTab, activeTab, setPanelOpen, panelOpen } = props\n  return (\n    <Box\n      sx={{\n        width: '70px',\n        background: '#0e1419',\n        color: '#fff',\n        paddingTop: '0.4rem',\n      }}\n    >\n      <Scrollbars\n        renderThumbVertical={() => <div style={{ background: 'rgba(255,255,255,0.3)' }}></div>}\n        autoHide\n      >\n        {tabItems.map(tabItem => (\n          <PanelItemsListItem\n            key={tabItem.icon}\n            icon={tabItem.icon}\n            label={i18n.t(`editor.panel.items.${tabItem.name}`)}\n            name={tabItem.name}\n            setActiveTab={setActiveTab}\n            activeTab={activeTab}\n            setPanelOpen={setPanelOpen}\n            panelOpen={panelOpen}\n          />\n        ))}\n      </Scrollbars>\n    </Box>\n  )\n}\n\nexport default PanelItems\n","import axios from 'axios'\n\nconst pixabayClient = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n})\n\nconst PIXABAY_KEY = process.env.REACT_APP_PIXABAY_KEY\n\nexport interface PixabayImage {\n  id: string\n  webformatURL: string\n  previewURL: string\n}\nexport function getPixabayImages(query: string): Promise<PixabayImage[]> {\n  let encodedWord = query.replace(/\\s+/g, '+').toLowerCase()\n  return new Promise((resolve, reject) => {\n    pixabayClient\n      .get(`?key=${PIXABAY_KEY}&q=${encodedWord}&image_type=photo`)\n      .then(response => {\n        resolve(response.data.hits)\n      })\n      .catch(err => reject(err))\n  })\n}\n","import { useEffect, useState } from 'react'\nimport { Input, Grid, Box, Flex } from 'theme-ui'\nimport { getPixabayImages, PixabayImage } from '@services/pixabay'\nimport { useDebounce } from 'use-debounce'\nimport { useHandlers } from '@/uibox'\n\nfunction ImagesPanel() {\n  const [search, setSearch] = useState('')\n  const [images, setImages] = useState<PixabayImage[]>([])\n  const [value] = useDebounce(search, 1000)\n\n  const handlers = useHandlers()\n  useEffect(() => {\n    getPixabayImages('people')\n      .then(data => setImages(data))\n      .catch(console.log)\n  }, [])\n\n  useEffect(() => {\n    if (value) {\n      getPixabayImages(value)\n        .then((data: any) => setImages(data))\n        .catch(console.log)\n    }\n  }, [value])\n\n  const addImageToCanvas = url => {\n    const options = {\n      type: 'StaticImage',\n      metadata: { src: url },\n    }\n    handlers.objectsHandler.create(options)\n  }\n\n  return (\n    <>\n      <Box sx={{ padding: '2rem 2rem 1rem' }}>\n        <Input\n          onChange={e => setSearch(e.target.value)}\n          style={{ background: '#fff' }}\n          type=\"tel\"\n          placeholder=\"Search images\"\n        />\n      </Box>\n\n      <Grid\n        sx={{\n          gridTemplateColumns: '1fr 1fr',\n          gap: '1rem',\n          padding: '1rem 2rem',\n        }}\n        className=\"objects-list\"\n      >\n        {images.map(img => (\n          <Flex\n            key={img.id}\n            sx={{\n              alignItems: 'center',\n              cursor: 'pointer',\n            }}\n            onClick={() => addImageToCanvas(img.webformatURL)}\n          >\n            <img width=\"100%\" src={img.previewURL} alt=\"preview\" />\n          </Flex>\n        ))}\n      </Grid>\n    </>\n  )\n}\nexport default ImagesPanel\n","import { Input } from 'theme-ui'\nfunction MusicPanel() {\n  return (\n    <>\n      <div style={{ padding: '2rem 2rem 1rem' }}>\n        <Input style={{ background: '#fff' }} type=\"text\" placeholder=\"Search music\" />\n      </div>\n    </>\n  )\n}\nexport default MusicPanel\n","import axios from 'axios'\n\nconst iconscoutClient = axios.create({\n  baseURL: 'https://api.iconscout.com/v3/',\n  headers: {\n    'Client-ID': process.env.REACT_APP_ICONSCOUT_CLIENT_ID,\n    'Client-Secret': process.env.REACT_APP_ICONSCOUT_SECRET,\n  },\n})\n\nexport function getImages(query) {\n  return new Promise((resolve, reject) => {\n    iconscoutClient\n      .get('search', {\n        params: {\n          query: query,\n          product_type: 'item',\n          asset: 'illustration',\n          price: 'free',\n          per_page: 20,\n          page: 1,\n          formats: ['svg'],\n          styles: ['colored-outline'],\n          sort: 'color',\n        },\n      })\n      .then(response => {\n        const items = response.data.response.items.data\n        resolve(items)\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n\nexport function getImage(uuid): Promise<string> {\n  return new Promise((resolve, reject) => {\n    iconscoutClient\n      .post(`items/${uuid}/api-download`, {\n        format: 'svg',\n      })\n      .then(response => {\n        const imageURL = response.data.response.download.url\n        resolve(imageURL)\n      })\n      .catch(err => {\n        reject(err)\n      })\n  })\n}\n","import { useEffect, useState } from 'react'\nimport { getImage, getImages } from '@services/iconscout'\nimport { useDebounce } from 'use-debounce'\nimport { Input, Grid, Flex } from 'theme-ui'\nimport { useHandlers } from '@/uibox'\n\nfunction ObjectsPanel() {\n  const [search, setSearch] = useState('')\n  const [objects, setObjects] = useState<any[]>([])\n  const [value] = useDebounce(search, 1000)\n\n  const handlers = useHandlers()\n  useEffect(() => {\n    getImages('people')\n      .then((data: any) => setObjects(data))\n      .catch(console.log)\n  }, [])\n\n  useEffect(() => {\n    if (value) {\n      getImages(value)\n        .then((data: any) => setObjects(data))\n        .catch(console.log)\n    }\n  }, [value])\n  const downloadImage = uuid => {\n    getImage(uuid)\n      .then(url => {\n        const options = {\n          type: 'StaticVector',\n          metadata: { src: url },\n        }\n        handlers.objectsHandler.create(options)\n      })\n      .catch(console.log)\n  }\n\n  return (\n    <>\n      <div style={{ padding: '2rem 2rem 1rem' }}>\n        <Input\n          onChange={e => setSearch(e.target.value)}\n          style={{ background: '#fff' }}\n          type=\"tel\"\n          placeholder=\"Search objects\"\n        />\n      </div>\n\n      <Grid\n        sx={{\n          gridTemplateColumns: '1fr 1fr',\n          gap: '1rem',\n          padding: '1rem 2rem',\n        }}\n      >\n        {objects.map(obj => (\n          <Flex\n            key={obj.id}\n            sx={{\n              alignItems: 'center',\n              cursor: 'pointer',\n              justifyContent: 'center',\n            }}\n            onClick={() => downloadImage(obj.uuid)}\n          >\n            <img width=\"80%\" src={obj.urls.thumb} alt=\"svg object\" />\n          </Flex>\n        ))}\n      </Grid>\n    </>\n  )\n}\nexport default ObjectsPanel\n","import { Input } from 'theme-ui'\nfunction TemplatesPanel() {\n  return (\n    <>\n      <div style={{ padding: '2rem 2rem 1rem' }}>\n        <Input style={{ background: '#fff' }} type=\"text\" placeholder=\"Search templates\" />\n      </div>\n    </>\n  )\n}\nexport default TemplatesPanel\n","import { Input, Box, Grid, Flex } from 'theme-ui'\nimport { useHandlers } from '@/uibox'\n\nfunction TextPanel() {\n  const handlers = useHandlers()\n\n  const addHeading = () => {\n    const options = {\n      type: 'Textarea',\n      width: 800,\n      metadata: {\n        fontWeight: 700,\n        fontFamily: 'Lexend',\n        textAlign: 'center',\n        fontSize: 80,\n        value: 'Add a heading',\n      },\n    }\n    handlers.objectsHandler.create(options)\n  }\n\n  const addSubheading = () => {\n    const options = {\n      type: 'Textarea',\n      width: 800,\n      metadata: {\n        value: 'Add a subheading',\n        fontSize: 60,\n        fontWeight: 500,\n        fontFamily: 'Lexend',\n        textAlign: 'center',\n      },\n    }\n    handlers.objectsHandler.create(options)\n  }\n\n  const addTextBody = () => {\n    const options = {\n      type: 'Textarea',\n      width: 800,\n      metadata: {\n        value: 'Add a little bit of body text',\n        fontSize: 40,\n        fontWeight: 300,\n        fontFamily: 'Lexend',\n        textAlign: 'center',\n      },\n    }\n    handlers.objectsHandler.create(options)\n  }\n  return (\n    <>\n      <Box sx={{ padding: '2rem 2rem 1rem' }}>\n        <Input style={{ background: '#fff', color: '#333' }} type=\"tel\" placeholder=\"Search text\" />\n      </Box>\n      <Box sx={{ padding: '0 2rem', color: '#fff', fontFamily: 'Lexend' }}>\n        <Box sx={{ fontWeight: 600, fontSize: '0.84rem', padding: '0.8rem 0' }}>\n          Click text to add to page\n        </Box>\n        <Grid sx={{ gridTemplateRows: '50px 50px 50px' }}>\n          <Flex\n            sx={{\n              paddingLeft: '1rem',\n              fontSize: '1.66rem',\n              alignItems: 'center',\n              background: 'rgba(255,255,255,0.1)',\n              fontWeight: 700,\n            }}\n            onClick={addHeading}\n          >\n            Add a heading\n          </Flex>\n          <Flex\n            sx={{\n              paddingLeft: '1rem',\n              fontSize: '1.12rem',\n              alignItems: 'center',\n              background: 'rgba(255,255,255,0.1)',\n              fontWeight: 500,\n            }}\n            onClick={addSubheading}\n          >\n            Add a subheading\n          </Flex>\n          <Flex\n            sx={{\n              paddingLeft: '1rem',\n              fontSize: '0.76rem',\n              alignItems: 'center',\n              background: 'rgba(255,255,255,0.1)',\n              fontWeight: 300,\n            }}\n            onClick={addTextBody}\n          >\n            Add a litle bit of body text\n          </Flex>\n        </Grid>\n      </Box>\n    </>\n  )\n}\nexport default TextPanel\n","import { Input } from 'theme-ui'\nfunction VideosPanel() {\n  return (\n    <>\n      <div style={{ padding: '2rem 2rem 1rem' }}>\n        <Input style={{ background: '#fff' }} type=\"text\" placeholder=\"Search videos\" />\n      </div>\n    </>\n  )\n}\nexport default VideosPanel\n","import { useState } from 'react'\n\nfunction LayersPanel() {\n  const [layers] = useState([])\n\n  return (\n    <>\n      <div style={{ padding: '2rem 2rem 1rem' }}>\n        <div style={{ display: 'grid', gap: '0.6rem', color: 'rgba(255,255,255,0.1)' }}>\n          {layers.map(layer => {\n            return (\n              <div\n                style={{\n                  color: '#ffffff',\n                  background: 'rgba(255,255,255,0.1)',\n                  height: '52px',\n                  alignItems: 'center',\n                  display: 'flex',\n                  paddingLeft: '1rem',\n                }}\n              >\n                {layer.type}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </>\n  )\n}\nexport default LayersPanel\n","import { Box } from 'theme-ui'\nimport ImagesPanel from './ImagesPanel'\nimport MusicPanel from './MusicPanel'\nimport ObjectsPanel from './ObjectsPanel'\nimport TemplatesPanel from './TemplatesPanel'\nimport TextPanel from './TextPanel'\nimport VideosPanel from './VideosPanel'\nimport LayersPanel from './LayersPanel'\nimport { Scrollbars } from 'react-custom-scrollbars'\nimport classNames from 'classnames'\n\ninterface Props {\n  panelOpen: boolean\n  activeTab: string\n}\nfunction PanelItem({ panelOpen, activeTab }: Props) {\n  const className = classNames({\n    'panel-item-container': true,\n    open: panelOpen,\n  })\n\n  return (\n    <div className={className}>\n      <Box sx={{ flex: 1 }}>\n        <Scrollbars\n          renderThumbVertical={() => <div style={{ background: 'rgba(255,255,255,0.3)' }}></div>}\n          autoHide\n        >\n          {activeTab === 'images' && <ImagesPanel />}\n          {activeTab === 'text' && <TextPanel />}\n          {activeTab === 'objects' && <ObjectsPanel />}\n          {activeTab === 'musics' && <MusicPanel />}\n          {activeTab === 'templates' && <TemplatesPanel />}\n          {activeTab === 'videos' && <VideosPanel />}\n          {activeTab === 'layers' && <LayersPanel />}\n        </Scrollbars>\n      </Box>\n    </div>\n  )\n}\n\nexport default PanelItem\n","import { Flex } from 'theme-ui'\nimport { useState } from 'react'\nimport ClosePanel from './ClosePanel'\nimport PanelItemsList from './PanelsList/PanelsList'\nimport PanelItem from './PanelItem/PanelItem'\n// import { useCanvasContext } from '@/hooks'\n\nfunction Panels() {\n  const [panelOpen, setPanelOpen] = useState(true)\n  const [activeTab, setActiveTab] = useState('templates')\n  // const { canvasType } = useCanvasContext()\n  const closePanel = () => {\n    setPanelOpen(!panelOpen)\n  }\n  const isPanelOpen = panelOpen\n  return (\n    <Flex\n      sx={{\n        position: 'relative',\n        background: '#29303a',\n        boxShadow: '5px 0 5px -5px rgba(0, 0, 0, 0.5)',\n        userSelect: 'none',\n      }}\n    >\n      <PanelItemsList\n        setPanelOpen={setPanelOpen}\n        panelOpen={isPanelOpen}\n        activeTab={activeTab}\n        setActiveTab={setActiveTab}\n      />\n      <PanelItem activeTab={activeTab} panelOpen={isPanelOpen} />\n      <ClosePanel panelOpen={isPanelOpen} closePanel={closePanel} />\n    </Flex>\n  )\n}\n\nexport default Panels\n","import { CSSProperties, useState } from 'react'\nimport { TwitterPicker } from 'react-color'\nimport { Flex, Box } from 'theme-ui'\nimport emptyColorPlaceholder from '@/assets/images/base-color-picker.png'\nimport { useHandlers } from '@/uibox'\n\nfunction Toolbox() {\n  const [dropdown, setDropdown] = useState({\n    displayColorPicker: false,\n  })\n  const handlers = useHandlers()\n\n  const [options, setOptions] = useState({\n    backgroundColor: '#ffffff',\n  })\n\n  const handleClick = () => {\n    setDropdown({ ...dropdown, displayColorPicker: !dropdown.displayColorPicker })\n  }\n  const handleClose = () => {\n    setDropdown({ ...dropdown, displayColorPicker: false })\n  }\n\n  const popover: CSSProperties = {\n    position: 'absolute',\n    zIndex: 2,\n  }\n  const cover: CSSProperties = {\n    position: 'fixed',\n    top: '0px',\n    right: '0px',\n    bottom: '0px',\n    left: '0px',\n  }\n\n  const onColorChange = color => {\n    handlers.frameHandler.setBackgroundColor(color.hex)\n    setOptions({ ...options, backgroundColor: color.hex })\n  }\n  return (\n    <Flex\n      sx={{\n        height: 54,\n        alignItems: 'center',\n        padding: '0 1rem',\n        justifyContent: 'space-between',\n      }}\n    >\n      <div style={{ position: 'relative' }}>\n        <div style={{ cursor: 'pointer' }} onClick={handleClick}>\n          {options.backgroundColor === '#ffffff' ? (\n            <img style={{ height: '30px', display: 'flex' }} src={emptyColorPlaceholder} alt=\"color picker\" />\n          ) : (\n            <Box\n              sx={{\n                background: options.backgroundColor,\n                height: 30,\n                width: 30,\n              }}\n            />\n          )}\n        </div>\n\n        {dropdown.displayColorPicker ? (\n          <div style={popover}>\n            <div style={cover} onClick={handleClose} />\n            <TwitterPicker color={options.backgroundColor} onChange={onColorChange} />\n          </div>\n        ) : null}\n      </div>\n    </Flex>\n  )\n}\n\nexport default Toolbox\n","export default \"data:image/png;base64,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\"","import DefaultToolbox from './DefaultToolbox/DefaultToolbox'\n\nfunction Toolbox() {\n  return (\n    <div>\n      <DefaultToolbox />\n    </div>\n  )\n}\n\nexport default Toolbox\n","import { Flex } from 'theme-ui'\nimport Editor from '@/uibox'\n\nfunction CanvasArea() {\n  return (\n    <Flex\n      sx={{\n        flex: 1,\n        position: 'relative',\n      }}\n    >\n      <Editor />\n    </Flex>\n  )\n}\n\nexport default CanvasArea\n","import { Flex } from 'theme-ui'\n\nfunction NotSupported() {\n  return (\n    <Flex\n      sx={{\n        background: '#0e1419',\n        color: 'rgba(255,255,255,0.7)',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flex: 1,\n        textAlign: 'center',\n        paddingBottom: '1rem',\n      }}\n    >\n      Your screen size is not supported <br />\n      Try with a bigger one\n    </Flex>\n  )\n}\nexport default NotSupported\n","import NotSupported from './NotSupported'\n\nexport default NotSupported\n","import { useEffect, useState } from 'react'\nimport { Flex, Slider, Box, Text } from 'theme-ui'\nimport { useEditorContext, useHandlers } from '@/uibox'\n\ninterface Option {\n  zoomValue: number\n}\n\nfunction FooterMenu() {\n  const [option, setOption] = useState<Option>({ zoomValue: 40 })\n  const { zoomRatio } = useEditorContext()\n  const handlers = useHandlers()\n  const updateOptions = (key: string, value: number) => {\n    setOption({ ...option, [key]: value })\n  }\n\n  useEffect(() => {\n    updateOptions('zoomValue', zoomRatio * 100)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [zoomRatio])\n\n  const onZoomChange = (event: any) => {\n    handlers.zoomHandler.zoomToRatio(event.target.value / 100)\n  }\n\n  const zoomString = parseFloat(option.zoomValue.toFixed(2))\n\n  return (\n    <Flex\n      sx={{\n        borderRadius: '6px',\n        padding: '0 1rem',\n        alignItems: 'center',\n        background: '#fff',\n        justifyContent: 'space-between',\n        fontFamily: 'Mukta',\n        height: '50px',\n      }}\n    >\n      <Flex>\n        <div style={{ position: 'relative', overflow: 'hidden' }}>\n          <div\n            style={{\n              fontSize: '14px',\n              position: 'absolute',\n              width: '100%',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              paddingRight: '3px',\n              paddingTop: '4px',\n            }}\n          >\n            <div>1</div>\n          </div>\n          <PagesIcon />\n        </div>\n      </Flex>\n      <Flex>\n        <Slider value={option.zoomValue ? option.zoomValue : 1} onChange={e => onZoomChange(e)} max={300} />\n        <Box\n          sx={{\n            padding: '0 1rem',\n            fontFamily: 'Open Sans',\n            fontSize: '14px',\n            background: '#fff',\n            fontWeight: '600',\n          }}\n        >\n          {zoomString}\n          <Text sx={{ paddingLeft: '0.2rem' }}>%</Text>\n        </Box>\n        <Box sx={{ margin: '0 1rem' }}>\n          <ExpandIcon />\n        </Box>\n      </Flex>\n    </Flex>\n  )\n}\n\nfunction PagesIcon() {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <rect\n        x=\"1.75\"\n        y=\"4.75\"\n        width=\"17.5\"\n        height=\"17.5\"\n        rx=\"1.25\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n      ></rect>\n      <path\n        d=\"M4.75 1a.75.75 0 0 0 0 1.5H19.4c1.16 0 2.1.94 2.1 2.1v14.65a.75.75 0 0 0 1.5 0V4.2A3.2 3.2 0 0 0 19.8 1H4.75z\"\n        fill=\"currentColor\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction ExpandIcon() {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M14.636 10.43L18.5 6.565v2.687a.75.75 0 0 0 1.5 0V5.497c0-.966-.53-1.495-1.497-1.495h-3.749a.75.75 0 0 0 0 1.5h2.687l-3.867 3.867a.75.75 0 0 0 1.06 1.061zm-5.27 3.139l-3.867 3.867v-2.688a.75.75 0 0 0-1.5 0v3.75c0 .967.527 1.5 1.493 1.5h3.753a.75.75 0 0 0 0-1.5H6.558l3.869-3.869a.75.75 0 0 0-1.061-1.06z\"\n        fill=\"currentColor\"\n      ></path>\n    </svg>\n  )\n}\nexport default FooterMenu\n","import Footer from './Footer'\n\nexport default Footer\n","import { Flex } from 'theme-ui'\nimport Navbar from '@components/Navbar/Navbar'\nimport Panels from '@components/Panels/Panels'\nimport Toolbox from '@components/Toolbox/Toolbox'\nimport CanvasArea from '@components/CanvasArea/CanvasArea'\nimport NotSupported from '@components/NotSupported'\nimport { useAppContext } from '@contexts/app/AppContext'\nimport Footer from '@components/Footer'\n\nfunction Editor() {\n  const { isMobile } = useAppContext()\n\n  return (\n    <Flex sx={{ flex: 1, flexDirection: 'column' }}>\n      <Navbar />\n      {isMobile === undefined ? (\n        <div>Loading</div>\n      ) : isMobile ? (\n        <NotSupported />\n      ) : (\n        <Flex sx={{ flex: 1 }}>\n          <Panels />\n          <Flex\n            sx={{\n              flex: 1,\n              flexDirection: 'column',\n            }}\n          >\n            <Toolbox />\n            <CanvasArea />\n            <Footer />\n          </Flex>\n        </Flex>\n      )}\n    </Flex>\n  )\n}\n\nexport default Editor\n","import Editor from './Editor'\n\nexport default Editor\n","import AppBox from '@components/AppBox'\nimport Editor from '@components/Editor'\n\nfunction AppContainer() {\n  return (\n    <AppBox>\n      <Editor />\n    </AppBox>\n  )\n}\n\nexport default AppContainer\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import i18n from 'i18next'\nimport enLocale from './locales/en-EN.json'\n\nconst i18nClient = i18n.init({\n  load: 'all',\n  whitelist: ['en', 'en-US', 'tr', 'tr-TR'],\n  lng: 'en',\n  resources: {\n    en: {\n      translation: enLocale,\n    },\n  },\n})\n\nexport default i18nClient\n","//@ts-nocheck\nconst tableCellStyle = {\n  textAlign: 'left',\n  py: '4px',\n  pr: '4px',\n  pl: 0,\n  borderColor: 'muted',\n  borderBottomStyle: 'solid',\n}\n\nconst theme: Theme = {\n  colors: {\n    text: '#000000',\n    background: '#ffffff',\n    primary: '#2D2D94',\n    secondary: '#111199',\n    muted: '#f6f6f6',\n    highlight: '#efeffe', // '#ffffcc',\n    gray: '#777777',\n    accent: '#660099',\n    darken: 'rgba(0, 0, 0, .25)',\n    border: 'rgba(0,0,0,0.3)',\n  },\n  fonts: {\n    body: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", sans-serif',\n    heading: 'inherit',\n    monospace: 'Menlo, monospace',\n  },\n  fontSizes: [12, 14, 16, 20, 24, 32, 48, 64, 72],\n  // breakpoints: ['40em', '52em', '64em'],\n  fontWeights: {\n    body: 400,\n    heading: 800,\n    bold: 700,\n    display: 800,\n  },\n  lineHeights: {\n    body: 1.5,\n    heading: 1.25,\n  },\n  sizes: {\n    sidebar: 256,\n    container: 1024,\n  },\n  text: {\n    heading: {\n      fontFamily: 'heading',\n      fontWeight: 'heading',\n      lineHeight: 'heading',\n    },\n    block: {\n      variant: 'default',\n      my: 2,\n      textAlign: 'justify',\n      textJustify: 'auto',\n    },\n    display: {\n      variant: 'text.heading',\n      fontSize: [5, 6],\n      fontWeight: 'display',\n      letterSpacing: '-0.03em',\n      mt: 3,\n    },\n    caps: {\n      textTransform: 'uppercase',\n      letterSpacing: '0.2em',\n    },\n  },\n  buttons: {\n    primary: {\n      color: 'background',\n      bg: 'primary',\n      fontWeight: 'bold',\n      '&:hover, &:focus': {\n        bg: 'secondary',\n        cursor: 'pointer',\n      },\n    },\n    secondary: {\n      variant: 'buttons.primary',\n      color: 'background',\n      bg: 'secondary',\n    },\n    black: {\n      fontWeight: 'bold',\n      color: 'background',\n      bg: 'text',\n      '&:hover, &:focus': {\n        bg: 'primary',\n      },\n    },\n  },\n  links: {\n    nav: {\n      display: 'flex',\n      textDecoration: 'none',\n      alignItems: 'center',\n      color: 'text',\n      fontWeight: 'bold',\n      height: '4rem',\n      fontSize: '1.05rem',\n      '&.active': {\n        boxShadow: t => `inset 0rem -0.25rem ${t.colors.primary}`,\n      },\n    },\n    button: {\n      textAlign: 'center',\n      textDecoration: 'none',\n      fontWeight: 'bold',\n      fontSize: 2,\n      p: 3,\n      color: 'primary',\n    },\n  },\n  badges: {\n    primary: {\n      color: 'background',\n    },\n    highlight: {\n      color: 'text',\n      bg: 'highlight',\n    },\n    accent: {\n      color: 'background',\n      bg: 'accent',\n    },\n    outline: {\n      color: 'primary',\n      bg: 'transparent',\n      boxShadow: 'inset 0 0 0 1px',\n    },\n    circle: {\n      height: 16,\n      minWidth: 16,\n      lineHeight: '16px',\n      textAlign: 'center',\n      borderRadius: 9999,\n    },\n  },\n  images: {\n    avatar: {\n      width: 48,\n      height: 48,\n      borderRadius: 9999,\n    },\n  },\n  cards: {\n    primary: {\n      padding: 2,\n      borderRadius: 4,\n      boxShadow: '0 0 8px rgba(0, 0, 0, 0.125)',\n    },\n    compact: {\n      padding: 1,\n      borderRadius: 2,\n      border: '1px solid',\n      borderColor: 'muted',\n    },\n  },\n  forms: {\n    label: {\n      fontSize: 2,\n      fontWeight: 'normal',\n    },\n    input: {\n      borderColor: t => `${t.colors.border}`,\n      height: 48,\n      '&:focus': {\n        borderColor: 'primary',\n        boxShadow: t => `0 0 0 2px ${t.colors.primary}`,\n        outline: 'none',\n      },\n      '&:disabled': {\n        bg: t => `${t.colors.gray}`,\n      },\n    },\n    select: {\n      borderColor: 'gray',\n      '&:focus': {\n        borderColor: 'primary',\n        boxShadow: t => `0 0 0 2px ${t.colors.primary}`,\n        outline: 'none',\n      },\n    },\n    textarea: {\n      borderColor: 'gray',\n      '&:focus': {\n        borderColor: 'primary',\n        boxShadow: t => `0 0 0 2px ${t.colors.primary}`,\n        outline: 'none',\n      },\n    },\n    slider: {\n      bg: 'muted',\n    },\n  },\n  alerts: {\n    primary: {\n      color: 'background',\n    },\n    secondary: {\n      color: 'background',\n      bg: 'secondary',\n    },\n    accent: {\n      color: 'background',\n      bg: 'accent',\n    },\n    highlight: {\n      color: 'text',\n      bg: 'highlight',\n    },\n  },\n  layout: {\n    container: {\n      p: 3,\n      // maxWidth: 1024,\n    },\n  },\n  styles: {\n    root: {\n      fontFamily: 'body',\n      lineHeight: 'body',\n      fontWeight: 'body',\n    },\n    img: {\n      maxWidth: '100%',\n      height: 'auto',\n    },\n    h1: {\n      variant: 'text.display',\n    },\n    h2: {\n      variant: 'text.heading',\n      fontSize: 5,\n    },\n    h3: {\n      variant: 'text.heading',\n      fontSize: 4,\n    },\n    h4: {\n      variant: 'text.heading',\n      fontSize: 3,\n    },\n    h5: {\n      variant: 'text.heading',\n      fontSize: 2,\n    },\n    h6: {\n      variant: 'text.heading',\n      fontSize: 1,\n    },\n    a: {\n      color: 'primary',\n      '&:hover': {\n        color: 'secondary',\n      },\n    },\n    pre: {\n      fontFamily: 'monospace',\n      fontSize: 1,\n      p: 3,\n      color: 'text',\n      bg: 'muted',\n      overflow: 'auto',\n      code: {\n        color: 'inherit',\n      },\n      variant: 'prism',\n    },\n    code: {\n      fontFamily: 'monospace',\n      fontSize: 1,\n    },\n    inlineCode: {\n      fontFamily: 'monospace',\n      color: 'secondary',\n      bg: 'muted',\n    },\n    table: {\n      width: '100%',\n      my: 4,\n      borderCollapse: 'separate',\n      borderSpacing: 0,\n    },\n    th: {\n      verticalAlign: 'bottom',\n      borderBottomWidth: '2px',\n      ...tableCellStyle,\n    },\n    td: {\n      verticalAlign: 'top',\n      borderBottomWidth: '1px',\n      ...tableCellStyle,\n    },\n    hr: {\n      border: 0,\n      borderBottom: '1px solid',\n      borderColor: 'muted',\n    },\n    xray: {\n      '*': {\n        outline: '1px solid rgba(0, 192, 255, .25)',\n      },\n    },\n    navlink: {\n      display: 'inline-block',\n      fontWeight: 'bold',\n      color: 'inherit',\n      textDecoration: 'none',\n      ':hover,:focus': {\n        color: 'primary',\n      },\n    },\n  },\n}\n\nexport default theme\n","import ReactDOM from 'react-dom'\nimport AppContainer from './containers/AppContainer'\nimport reportWebVitals from './reportWebVitals'\nimport { AppProvider } from './contexts/app/AppContext'\nimport './i18n/index'\nimport { ThemeProvider } from 'theme-ui'\nimport theme from './theme'\nimport 'focus-visible/dist/focus-visible'\nimport './styles/styles.scss'\nimport { EditorProvider } from './uibox'\n\nReactDOM.render(\n  <AppProvider>\n    <ThemeProvider theme={theme}>\n      <EditorProvider>\n        <AppContainer />\n      </EditorProvider>\n    </ThemeProvider>\n  </AppProvider>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}